import{a as A}from"./blake2b.e5109153.js";var L={exports:{}},a=typeof Reflect=="object"?Reflect:null,v=a&&typeof a.apply=="function"?a.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},l;a&&typeof a.ownKeys=="function"?l=a.ownKeys:Object.getOwnPropertySymbols?l=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:l=function(e){return Object.getOwnPropertyNames(e)};function C(t){console&&console.warn&&console.warn(t)}var g=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}L.exports=o;L.exports.once=M;o.EventEmitter=o;o.prototype._events=void 0;o.prototype._eventsCount=0;o.prototype._maxListeners=void 0;var p=10;function d(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(t){if(typeof t!="number"||t<0||g(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");p=t}});o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};o.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||g(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function m(t){return t._maxListeners===void 0?o.defaultMaxListeners:t._maxListeners}o.prototype.getMaxListeners=function(){return m(this)};o.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",f=this._events;if(f!==void 0)i=i&&f.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var c=f[e];if(c===void 0)return!1;if(typeof c=="function")v(c,this,n);else for(var h=c.length,E=O(c,h),r=0;r<h;++r)v(E[r],this,n);return!0};function y(t,e,n,r){var i,f,s;if(d(n),f=t._events,f===void 0?(f=t._events=Object.create(null),t._eventsCount=0):(f.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),f=t._events),s=f[e]),s===void 0)s=f[e]=n,++t._eventsCount;else if(typeof s=="function"?s=f[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=m(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,C(u)}return t}o.prototype.addListener=function(e,n){return y(this,e,n,!1)};o.prototype.on=o.prototype.addListener;o.prototype.prependListener=function(e,n){return y(this,e,n,!0)};function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=j.bind(r);return i.listener=n,r.wrapFn=i,i}o.prototype.once=function(e,n){return d(n),this.on(e,_(this,e,n)),this};o.prototype.prependOnceListener=function(e,n){return d(n),this.prependListener(e,_(this,e,n)),this};o.prototype.removeListener=function(e,n){var r,i,f,s,u;if(d(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(f=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){u=r[s].listener,f=s;break}if(f<0)return this;f===0?r.shift():R(r,f),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||n)}return this};o.prototype.off=o.prototype.removeListener;o.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var f=Object.keys(r),s;for(i=0;i<f.length;++i)s=f[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function w(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?N(i):O(i,i.length)}o.prototype.listeners=function(e){return w(this,e,!0)};o.prototype.rawListeners=function(e){return w(this,e,!1)};o.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):b.call(t,e)};o.prototype.listenerCount=b;function b(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function O(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function R(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function N(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function M(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,f),r(s)}function f(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}x(t,e,f,{once:!0}),e!=="error"&&S(t,i,{once:!0})})}function S(t,e,n){typeof t.on=="function"&&x(t,"error",e,n)}function x(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(f){r.once&&t.removeEventListener(e,i),n(f)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}const P=t=>`00${Math.floor(t.length/2).toString(16)}`.slice(-2),$=t=>{const e=t.dAppDefinitionAddress.length.toString(16),n=Buffer.from(t.dAppDefinitionAddress,"utf-8").toString("hex"),r=Buffer.from(t.origin,"utf-8").toString("hex"),i=t.challenge+e+n+r;return{challengeData:`${P(i)}${i}`,hashToSign:A(`${t.challenge}${e}${n}${r}`)}};export{L as e,P as g,$ as p};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2Utc2lnbi1hdXRoLmY0YzVhNmI1LmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi4uLy4uL3NyYy9sZWRnZXIvd3JhcHBlci91dGlscy50cyIsIi4uLy4uL3NyYy9sZWRnZXIvd3JhcHBlci9wYXJzZS1zaWduLWF1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBnZXREYXRhTGVuZ3RoID0gKGRhdGE6IHN0cmluZykgPT5cbiAgYDAwJHtNYXRoLmZsb29yKGRhdGEubGVuZ3RoIC8gMikudG9TdHJpbmcoMTYpfWAuc2xpY2UoLTIpXG4iLCJpbXBvcnQgeyBibGFrZUhhc2hIZXhTeW5jIH0gZnJvbSAnY3J5cHRvL2JsYWtlMmInXG5pbXBvcnQgeyBMZWRnZXJTaWduQ2hhbGxlbmdlUmVxdWVzdCB9IGZyb20gJ2xlZGdlci9zY2hlbWFzJ1xuaW1wb3J0IHsgZ2V0RGF0YUxlbmd0aCB9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBjb25zdCBwYXJzZVNpZ25BdXRoID0gKFxuICBwYXJhbXM6IE9taXQ8TGVkZ2VyU2lnbkNoYWxsZW5nZVJlcXVlc3QsICdkaXNjcmltaW5hdG9yJyB8ICdpbnRlcmFjdGlvbklkJz4sXG4pID0+IHtcbiAgY29uc3QgYWRkcmVzc0xlbmd0aCA9IHBhcmFtcy5kQXBwRGVmaW5pdGlvbkFkZHJlc3MubGVuZ3RoLnRvU3RyaW5nKDE2KVxuICBjb25zdCBlbmNvZGVkRGFwcEFkZHJlc3MgPSBCdWZmZXIuZnJvbShcbiAgICBwYXJhbXMuZEFwcERlZmluaXRpb25BZGRyZXNzLFxuICAgICd1dGYtOCcsXG4gICkudG9TdHJpbmcoJ2hleCcpXG4gIGNvbnN0IGVuY29kZWRPcmlnaW4gPSBCdWZmZXIuZnJvbShwYXJhbXMub3JpZ2luLCAndXRmLTgnKS50b1N0cmluZygnaGV4JylcbiAgY29uc3QgZGF0YSA9XG4gICAgcGFyYW1zLmNoYWxsZW5nZSArIGFkZHJlc3NMZW5ndGggKyBlbmNvZGVkRGFwcEFkZHJlc3MgKyBlbmNvZGVkT3JpZ2luXG4gIGNvbnN0IGRhdGFMZW5ndGggPSBnZXREYXRhTGVuZ3RoKGRhdGEpXG4gIHJldHVybiB7XG4gICAgY2hhbGxlbmdlRGF0YTogYCR7ZGF0YUxlbmd0aH0ke2RhdGF9YCxcbiAgICBoYXNoVG9TaWduOiBibGFrZUhhc2hIZXhTeW5jKFxuICAgICAgYCR7cGFyYW1zLmNoYWxsZW5nZX0ke2FkZHJlc3NMZW5ndGh9JHtlbmNvZGVkRGFwcEFkZHJlc3N9JHtlbmNvZGVkT3JpZ2lufWAsXG4gICAgKSxcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlIiLCJSZWZsZWN0QXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsImFyZ3MiLCJSZWZsZWN0T3duS2V5cyIsIlByb2Nlc3NFbWl0V2FybmluZyIsIndhcm5pbmciLCJOdW1iZXJJc05hTiIsInZhbHVlIiwiRXZlbnRFbWl0dGVyIiwiZXZlbnRzTW9kdWxlIiwiZXZlbnRzIiwib25jZSIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJhcmciLCJuIiwiX2dldE1heExpc3RlbmVycyIsInRoYXQiLCJ0eXBlIiwiaSIsImRvRXJyb3IiLCJlciIsImVyciIsImhhbmRsZXIiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwiX2FkZExpc3RlbmVyIiwicHJlcGVuZCIsIm0iLCJleGlzdGluZyIsInciLCJvbmNlV3JhcHBlciIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzcGxpY2VPbmUiLCJrZXlzIiwia2V5IiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJ1bndyYXBMaXN0ZW5lcnMiLCJlbWl0dGVyIiwibGlzdGVuZXJDb3VudCIsImFyciIsImNvcHkiLCJpbmRleCIsInJldCIsIm5hbWUiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsInJlc29sdmVyIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJmbGFncyIsIndyYXBMaXN0ZW5lciIsImdldERhdGFMZW5ndGgiLCJkYXRhIiwicGFyc2VTaWduQXV0aCIsInBhcmFtcyIsImFkZHJlc3NMZW5ndGgiLCJlbmNvZGVkRGFwcEFkZHJlc3MiLCJlbmNvZGVkT3JpZ2luIiwiYmxha2VIYXNoSGV4U3luYyJdLCJtYXBwaW5ncyI6IjZEQXVCSUEsRUFBSSxPQUFPLFNBQVksU0FBVyxRQUFVLEtBQzVDQyxFQUFlRCxHQUFLLE9BQU9BLEVBQUUsT0FBVSxXQUN2Q0EsRUFBRSxNQUNGLFNBQXNCRSxFQUFRQyxFQUFVQyxFQUFNLENBQzlDLE9BQU8sU0FBUyxVQUFVLE1BQU0sS0FBS0YsRUFBUUMsRUFBVUMsQ0FBSSxDQUM1RCxFQUVDQyxFQUNBTCxHQUFLLE9BQU9BLEVBQUUsU0FBWSxXQUM1QkssRUFBaUJMLEVBQUUsUUFDVixPQUFPLHNCQUNoQkssRUFBaUIsU0FBd0JILEVBQVEsQ0FDL0MsT0FBTyxPQUFPLG9CQUFvQkEsQ0FBTSxFQUNyQyxPQUFPLE9BQU8sc0JBQXNCQSxDQUFNLENBQUMsQ0FDbEQsRUFFRUcsRUFBaUIsU0FBd0JILEVBQVEsQ0FDL0MsT0FBTyxPQUFPLG9CQUFvQkEsQ0FBTSxDQUM1QyxFQUdBLFNBQVNJLEVBQW1CQyxFQUFTLENBQy9CLFNBQVcsUUFBUSxNQUFNLFFBQVEsS0FBS0EsQ0FBTyxDQUNuRCxDQUVBLElBQUlDLEVBQWMsT0FBTyxPQUFTLFNBQXFCQyxFQUFPLENBQzVELE9BQU9BLElBQVVBLENBQ25CLEVBRUEsU0FBU0MsR0FBZSxDQUN0QkEsRUFBYSxLQUFLLEtBQUssSUFBSSxDQUM3QixD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
