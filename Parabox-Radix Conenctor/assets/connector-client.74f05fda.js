import{_ as Me,S as w,e as H,f as Q,O as ce,i as N,g as ie,n as ue,b as j,d as X,a as K}from"./Subject.c67f7ae3.js";import{e as I,c as Y,b as Ee}from"./blake2b.e5109153.js";import{a as v,e as F,R as E,c as de,o as fe,b as le}from"./index.es.095da3c8.js";import{m as A,e as Ae,c as O,i as V,a as x,o as D,t as ee,f as m,b as T,R as ne,d as be}from"./first.9e6ac58d.js";import{p as ge,a as pe,f as W,m as Ie,t as me,b as $e,s as $,o as te,c as L}from"./switchMap.deec5196.js";const q=e=>{try{return v(JSON.parse(e))}catch(n){return F(I(n))}};var B=function(e){Me(n,e);function n(t){var r=e.call(this)||this;return r._value=t,r}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},n.prototype.getValue=function(){var t=this,r=t.hasError,o=t.thrownError,a=t._value;if(r)throw o;return this._throwIfClosed(),a},n.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},n}(w),Oe=Array.isArray;function xe(e,n){return Oe(n)?e.apply(void 0,H([],Q(n))):e(n)}function Re(e){return A(function(n){return xe(e,n)})}var Te=Array.isArray,Be=Object.getPrototypeOf,De=Object.prototype,ke=Object.keys;function Pe(e){if(e.length===1){var n=e[0];if(Te(n))return{args:n,keys:null};if(Le(n)){var t=ke(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}function Le(e){return e&&typeof e=="object"&&Be(e)===De}function Ke(e,n){return e.reduce(function(t,r,o){return t[r]=n[o],t},{})}function re(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ge(e),r=pe(e),o=Pe(e),a=o.args,s=o.keys;if(a.length===0)return W([],t);var i=new ce(_e(a,t,s?function(u){return Ke(s,u)}:N));return r?i.pipe(Re(r)):i}function _e(e,n,t){return t===void 0&&(t=N),function(r){oe(n,function(){for(var o=e.length,a=new Array(o),s=o,i=o,u=function(C){oe(n,function(){var b=W(e[C],n),g=!1;b.subscribe(O(r,function(d){a[C]=d,g||(g=!0,i--),i||r.next(t(a.slice()))},function(){--s||r.complete()}))},r)},f=0;f<o;f++)u(f)},r)}}function oe(e,n,t){e?Ae(t,e,n):n()}function Ue(){return Ie(1)}function Ve(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Ue()(W(e,ge(e)))}function Ne(e){return new ce(function(n){V(e()).subscribe(n)})}function Je(e,n,t){return Ne(function(){return e()?n:t})}function We(e,n,t,r,o){return function(a,s){var i=t,u=n,f=0;a.subscribe(O(s,function(C){var b=f++;u=i?e(u,C,b):(i=!0,C),r&&s.next(u)},o&&function(){i&&s.next(u),s.complete()}))}}function Z(e,n){return ie(n)?x(e,n,1):x(e,1)}function qe(){return D(function(e,n){e.subscribe(O(n,ue))})}function ze(e){return A(function(){return e})}function Ce(e,n){return n?function(t){return Ve(n.pipe(ee(1),qe()),t.pipe(Ce(e)))}:x(function(t,r){return V(e(t,r)).pipe(ee(1),ze(t))})}function Ge(e,n){n===void 0&&(n=$e);var t=me(e,n);return Ce(function(){return t})}function He(e,n){return n===void 0&&(n=N),e=e!=null?e:Qe,D(function(t,r){var o,a=!0;t.subscribe(O(r,function(s){var i=n(s);(a||!e(o,i))&&(a=!1,o=i,r.next(s))}))})}function Qe(e,n){return e===n}function he(e,n){return n?function(t){return t.pipe(he(function(r,o){return V(e(r,o)).pipe(A(function(a,s){return n(r,a,o,s)}))}))}:D(function(t,r){var o=0,a=null,s=!1;t.subscribe(O(r,function(i){a||(a=O(r,void 0,function(){a=null,s&&r.complete()}),V(e(i,o++)).subscribe(a))},function(){s=!0,!a&&r.complete()}))})}function Xe(e){return D(function(n,t){try{n.subscribe(t)}finally{t.add(e)}})}function Ye(e,n){return D(We(e,n,arguments.length>=2,!0))}function y(e,n,t){var r=ie(e)||n||t?{next:e,error:n,complete:t}:e;return r?D(function(o,a){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var i=!0;o.subscribe(O(a,function(u){var f;(f=r.next)===null||f===void 0||f.call(r,u),a.next(u)},function(){var u;i=!1,(u=r.complete)===null||u===void 0||u.call(r),a.complete()},function(u){var f;i=!1,(f=r.error)===null||f===void 0||f.call(r,u),a.error(u)},function(){var u,f;i&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):N}function Ze(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=pe(e);return D(function(r,o){for(var a=e.length,s=new Array(a),i=e.map(function(){return!1}),u=!1,f=function(b){V(e[b]).subscribe(O(o,function(g){s[b]=g,!u&&!i[b]&&(i[b]=!0,(u=i.every(N))&&(i=null))},ue))},C=0;C<a;C++)f(C);r.subscribe(O(o,function(b){if(u){var g=H([b],Q(s));o.next(t?t.apply(void 0,H([],Q(g))):g)}}))})}const ae=e=>Y(e).map(n=>({connectionId:n,encryptionKey:e})),Se=e=>{if(e<=0)return F(new Error("byteCount out of boundaries"));const n=crypto.getRandomValues(new Uint8Array(e));return v(j.Buffer.from(n))},en=(e=X.secrets.connectionPasswordByteLength)=>Se(e),nn=e=>{const n=e.logger,t=new B(void 0);return{generateConnectionSecrets:()=>en().asyncAndThen(a=>ae(a).map(s=>(n==null||n.debug("\u{1F510}\u{1F504} connection password generated"),t.next(s),a))),deriveSecretsFromPassword:a=>ae(a).map(s=>{var i;(i=t.value)!=null&&i.encryptionKey.equals(s.encryptionKey)||t.next(s)}),secrets$:t}},tn=e=>q(e),J={remoteClientIsAlreadyConnected:"remoteClientIsAlreadyConnected",remoteClientDisconnected:"remoteClientDisconnected",remoteClientJustConnected:"remoteClientJustConnected"},ve=new Set([J.remoteClientIsAlreadyConnected,J.remoteClientJustConnected]),ye=new Set([J.remoteClientDisconnected]),rn=e=>ve.has(e.info)||ye.has(e.info),se={notConnected:"notConnected",failedToSendMessage:"failedToSendMessage",failedToPrepareMessage:"failedToPrepareMessage",timeout:"timeout"},on=(e,n=X.webRTC.chunkSize)=>{const t=crypto.randomUUID();return Ee(e,n).map(r=>r.map((o,a)=>({packageType:"chunk",chunkIndex:a,chunkData:o.toString("base64"),messageId:t}))).asyncAndThen(r=>Y(e).map(o=>({packageType:"metaData",chunkCount:r.length,messageByteCount:e.byteLength,hashOfMessage:o.toString("hex"),messageId:t})).map(o=>({metaData:o,chunks:r})))},an=e=>{const n=[],t=i=>i.messageId!==e.messageId?F(Error("messageId mismatch")):n.length===e.chunkCount?F(Error("expected chunks received")):(n.push(i),v(void 0)),r=()=>{try{return v(n.map(({chunkData:i})=>j.Buffer.from(i,"base64").toString("utf-8")).join(""))}catch{return F(Error("failed to decode chunked messages"))}},o=()=>e?v(e.chunkCount===n.length):v(!1),a=()=>r().asyncAndThen(i=>Y(j.Buffer.from(i,"utf-8"))).andThen(i=>{const u=i.toString("hex");return u===e.hashOfMessage?v(void 0):F(Error(`message hash "${e.hashOfMessage}" does not match expected hash "${u}"`))});return{addChunk:t,allChunksReceived:o,validate:a,metaData:e,toString:()=>o().asyncAndThen(a).andThen(r)}},sn=()=>Se(12),je=e=>E.fromPromise(crypto.subtle.importKey("raw",e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),I),cn=(e,n,t)=>E.fromPromise(crypto.subtle.decrypt({name:"AES-GCM",iv:t},n,e),I).map(j.Buffer.from),un=(e,n,t)=>E.fromPromise(crypto.subtle.encrypt({name:"AES-GCM",iv:t},n,e),I).map(j.Buffer.from),dn=(e,n,t)=>je(n).andThen(r=>cn(e,r,t)),fn=(e,n)=>j.Buffer.concat([e,n]),ln=(e,n,t)=>je(n).andThen(r=>un(e,r,t)).map(r=>({combined:fn(t,r),iv:t,ciphertext:r})).mapErr(r=>r),bn=e=>{let n=0,t=e.length;const r=a=>{if(a<0)return F(Error("'byteCount' must not be negative"));if(a===0)return v(j.Buffer.alloc(0));if(n+a>e.length)return F(Error("Out of buffer's boundary"));const s=j.Buffer.alloc(a);return e.copy(s,0,n,n+a),s.length!==a?F(Error("Incorrect length of newly read buffer...")):(n+=a,t-=a,v(s))},o=()=>t<0?F(Error("Incorrect implementation, read too many bytes.")):v(t===0);return{readNextBuffer:r,finishedParsing:o,remainingBytes:()=>o().andThen(a=>{if(a)return v(j.Buffer.alloc(0));const s=j.Buffer.alloc(t);return e.copy(s,0,n),v(s)})}},gn=e=>bn(e).readNextBuffer,pn=({iv:e,ciphertext:n,authTag:t})=>j.Buffer.concat([e,n,t]),mn=({ciphertext:e,authTag:n})=>j.Buffer.concat([e,n]),Cn=e=>{const n=gn(e),t=12,r=16;return de.combine([n(t),n(e.length-t-r),n(r)]).map(([o,a,s])=>({iv:o,ciphertext:a,authTag:s,combined:pn({iv:o,ciphertext:a,authTag:s}),ciphertextAndAuthTag:mn({ciphertext:a,authTag:s})}))},G=(e,n)=>Cn(Buffer.from(e.encryptedPayload,"hex")).asyncAndThen(({ciphertextAndAuthTag:t,iv:r})=>dn(t,n,r)).andThen(t=>q(t.toString("utf8"))),P=e=>{try{return v(JSON.stringify(e))}catch(n){return F(n)}},hn=e=>{const n=e.logger,t=e.subjects,r=new K,o=Buffer.from(e.secrets.connectionId).toString("hex"),a=`${e.baseUrl}/${o}?target=${e.target}&source=${e.source}`;t.statusSubject.next("connecting"),n==null||n.debug("\u{1F6F0}\u26AA\uFE0F signaling server: connecting",{url:a});const s=new WebSocket(a),i=e.subjects.onMessageSubject.pipe(m(c=>c.info==="confirmation")),u=c=>i.pipe(m(h=>h.requestId===c)),f=c=>{tn(c.data).map(h=>{h.info==="remoteData"?n==null||n.trace(`\u{1F6F0}\u{1F4AC}\u2B07\uFE0F received: ${h.data.method} (${h.requestId})`):h.info!=="confirmation"&&(n==null||n.trace("\u{1F6F0}\u{1F4AC}\u2B07\uFE0F received:",h)),t.onMessageSubject.next(h)})},C=()=>{n==null||n.debug("\u{1F6F0}\u{1F7E2} signaling server: connected"),t.statusSubject.next("connected")},b=c=>{n==null||n.debug("\u{1F6F0}\u{1F534} signaling server: disconnected"),t.statusSubject.next("disconnected")},g=c=>{n==null||n.debug("\u{1F6F0}\u274C signaling server error",c),t.onErrorSubject.next(c)},d=({payload:c,method:h,source:U,targetClientId:z})=>sn().asyncAndThen(R=>ln(Buffer.from(JSON.stringify(c)),e.secrets.encryptionKey,R)).map(R=>({requestId:crypto.randomUUID(),connectionId:o,targetClientId:z,encryptedPayload:R.combined.toString("hex"),method:h,source:U})).mapErr(R=>(n==null||n.error("prepareMessage",R),R)),p=c=>W(d(c)).pipe(x(h=>{if(h.isErr())return te(F(h.error));const U=h.value,z=te(P(U)).pipe(y(R=>R.map(Fe=>(n==null||n.trace(`\u{1F6F0}\u{1F4AC}\u2B06\uFE0F sending: ${c.method} (${U.requestId})`),s.send(Fe)))),m(()=>!1));return L(z,u(U.requestId)).pipe(A(()=>v(void 0)))}),T()),M=c=>t.onMessageSubject.pipe(m(h=>c.has(h.info)),T()),l=e.subjects.onMessageSubject.pipe(m(c=>c.info==="remoteData"&&c.data.method==="offer"),$(c=>G(c.data,e.secrets.encryptionKey)),m(c=>!c.isErr()),A(c=>({...c.value,type:"offer"}))),S=e.subjects.onMessageSubject.pipe(m(c=>c.info==="remoteData"&&c.data.method==="answer"),$(c=>G(c.data,e.secrets.encryptionKey)),m(c=>!c.isErr()),A(c=>({...c.value,type:"answer"}))),k=e.subjects.onMessageSubject.pipe(m(c=>c.info==="remoteData"&&c.data.method==="iceCandidate"),Z(c=>G(c.data,e.secrets.encryptionKey)),m(c=>!c.isErr()),A(c=>new RTCIceCandidate(c.value))),_=e.subjects.onMessageSubject.pipe(m(rn),y(c=>{t.targetClientIdSubject.next(c.info===J.remoteClientDisconnected?void 0:c.remoteClientId)}));return r.add(_.subscribe()),r.add(t.onErrorSubject.pipe(Ge(1e3),y(()=>{e.restart()})).subscribe()),s.onmessage=f,s.onopen=C,s.onclose=b,s.onerror=g,{remoteClientConnected$:M(ve),remoteClientDisconnected$:M(ye),sendMessage:c=>t.targetClientIdSubject.pipe(m(Boolean),T(),$(h=>p({...c,targetClientId:h}))),status$:t.statusSubject.asObservable(),onError$:t.onErrorSubject.asObservable(),onConnect$:t.statusSubject.pipe(m(c=>c==="connected")),onDisconnect$:t.statusSubject.pipe(m(c=>c==="disconnected")),onOffer$:l,onAnswer$:S,onIceCandidate$:k,subjects:t,disconnect:()=>{s.readyState===1&&s.close()},destroy:()=>{r.unsubscribe(),s.close(),s.removeEventListener("message",f),s.removeEventListener("close",b),s.removeEventListener("error",g),s.removeEventListener("open",C),n==null||n.debug("\u{1F6F0}\u{1F9F9} destroying signaling instance")}}},Sn=typeof ArrayBuffer=="function",{toString:vn}=Object.prototype;function yn(e){return Sn&&(e instanceof ArrayBuffer||vn.call(e)==="[object ArrayBuffer]")}const we=e=>typeof e=="string"?j.Buffer.from(e,"utf-8"):yn(e)?j.Buffer.from(e):e,jn=e=>e.pipe(m(n=>n.packageType==="metaData")),wn=(e,n)=>e.pipe(m(t=>t.packageType==="chunk"&&t.messageId===n)),Fn=e=>jn(e).pipe(he(n=>{const t=an(n);return wn(e,n.messageId).pipe(y(o=>t.addChunk(o)),m(()=>{const o=t.allChunksReceived();return o.isErr()?!0:o.value}),T(),x(()=>t.toString().andThen(q).map(o=>({messageId:n.messageId,message:o})).mapErr(()=>n.messageId)))})),Mn=e=>{const n=e.logger,t=e.dataChannel,r=e.subjects,o=()=>{n==null||n.debug("\u{1F578}\u{1F7E2} data channel open"),r.dataChannelStatusSubject.next("open")},a=()=>{n==null||n.debug("\u{1F578}\u{1F534} data channel closed"),r.dataChannelStatusSubject.next("closed")},s=g=>{q(we(g.data).toString("utf-8")).map(d=>(n==null||n.debug("\u{1F578}\u{1F4AC}\u2B07\uFE0F received data channel message",d),e.onDataChannelMessageSubject.next(d))).mapErr(d=>{n==null||n.debug("\u{1F578}\u{1F4AC}\u2B07\uFE0F received data channel message",d)})},i=()=>{n==null||n.debug("\u{1F578}\u274C data channel error")};t.onopen=o,t.onclose=a,t.onmessage=s,t.onerror=i;const u=g=>{n==null||n.debug("\u{1F578}\u{1F4AC}\u2B06\uFE0F sendMessageOverDataChannel",g),t.send(g)},f=g=>{P({packageType:"receiveMessageConfirmation",messageId:g}).map(u)},C=g=>{P({packageType:"receiveMessageError",messageId:g,error:"messageHashesMismatch"}).map(u)},b=new K;return b.add(e.sendMessageOverDataChannelSubject.pipe(y(u)).subscribe()),b.add(Fn(e.onDataChannelMessageSubject).pipe(y(g=>g.map(({messageId:d,message:p})=>{f(d),e.onMessage.next(p)}).mapErr(C))).subscribe()),{subjects:r,destroy:()=>{t.removeEventListener("message",s),t.removeEventListener("open",o),t.removeEventListener("close",a),b.unsubscribe()}}},En=e=>{const n=e.subjects,t=e.peerConnection,r=e.logger,o=d=>{d.candidate&&n.onIceCandidateSubject.next(d.candidate)},a=()=>{r==null||r.debug(`\u{1F578}\u{1F9CA} iceConnectionState: ${t.iceConnectionState}`),n.iceConnectionStateSubject.next(t.iceConnectionState)};t.onicecandidate=o,t.oniceconnectionstatechange=a;const s=d=>E.fromPromise(t.addIceCandidate(d),I),i=new K,u=n.onIceCandidateSubject.asObservable().pipe(A(({candidate:d,sdpMid:p,sdpMLineIndex:M})=>({candidate:d,sdpMid:p,sdpMLineIndex:M})),m(d=>!!d.candidate),A(d=>({method:"iceCandidate",payload:d,source:e.source}))),f=n.onSignalingStateChangeSubject.pipe(m(d=>d==="have-local-offer")),C=n.onSignalingStateChangeSubject.pipe(m(d=>d==="have-remote-offer")),b=L(f,C,n.onRemoteAnswerSubject),g=L(n.remoteIceCandidatesSubject.pipe(T(),x(d=>d)),n.onRemoteIceCandidateSubject);return i.add(n.onRemoteIceCandidateSubject.pipe(Ye((d,p)=>[...d,p],[]),y(d=>n.remoteIceCandidatesSubject.next(d))).subscribe()),i.add(b.pipe(x(()=>g),Z(s)).subscribe()),{iceCandidate$:u,destroy:()=>{t.removeEventListener("icecandidate",o),t.removeEventListener("iceconnectionstatechange",a),i.unsubscribe()}}},An=e=>{const n=e.peerConnection,t=e.subjects,r=e.logger,o=new K,a=e.signalingClient,s=a.onOffer$,i=a.onAnswer$,u=()=>{e.shouldCreateOffer&&o.add(a.remoteClientConnected$.pipe($(()=>d().andThen(C).map(()=>n.localDescription).map(({sdp:p})=>({method:"offer",payload:{sdp:p},source:e.source})).map(p=>t.offerSubject.next(p)))).subscribe())},f=()=>{r==null||r.debug(`\u{1F578}\u{1F3DB} signalingState: ${n.signalingState}`),t.onSignalingStateChangeSubject.next(n.signalingState)};n.onnegotiationneeded=u,n.onsignalingstatechange=f;const C=p=>E.fromPromise(n.setLocalDescription(p),I).map(()=>n.localDescription),b=p=>E.fromPromise(n.setRemoteDescription(p),I),g=()=>E.fromPromise(n.createAnswer(),I),d=()=>E.fromPromise(n.createOffer(),I);return o.add(s.pipe($(p=>b(p).andThen(g).andThen(C).map(({sdp:M})=>({method:"answer",payload:{sdp:M},source:e.source})).map(M=>t.answerSubject.next(M)))).subscribe()),o.add(i.pipe(x(b)).subscribe()),{destroy:()=>{n.removeEventListener("signalingstatechange",f),n.removeEventListener("onnegotiationneeded",u),n.close(),o.unsubscribe()}}},In=e=>{const n=e.logger,t=e.subjects,r=e.restart,o=e.signalingClient,a=new RTCPeerConnection(e.peerConnectionConfig),s=a.createDataChannel("data",e.dataChannelConfig),i=An({peerConnection:a,subjects:t,logger:n,shouldCreateOffer:e.shouldCreateOffer,source:e.source,signalingClient:e.signalingClient,restart:e.restart}),u=Mn({dataChannel:s,logger:n,subjects:t,onDataChannelMessageSubject:e.onDataChannelMessageSubject,onMessage:e.onMessage,sendMessageOverDataChannelSubject:e.sendMessageOverDataChannelSubject}),f=En({logger:n,subjects:t,peerConnection:a,source:e.source}),C=e.signalingClient.onIceCandidate$,b=f.iceCandidate$,g=t.offerSubject,d=t.answerSubject,p=new K;return p.add(o.remoteClientConnected$.pipe(T(),x(()=>L(o.remoteClientDisconnected$,me(100).pipe($(()=>o.remoteClientConnected$))).pipe(y(()=>r())))).subscribe()),p.add(L(g,d,b).pipe(Z(e.signalingClient.sendMessage)).subscribe()),p.add(C.pipe(y(l=>t.onRemoteIceCandidateSubject.next(l))).subscribe()),p.add(o.status$.pipe(m(l=>l==="connected"),T(),$(()=>re([o.status$,u.subjects.dataChannelStatusSubject]).pipe(m(([l,S])=>l==="disconnected"&&S==="closed"),T(),y(()=>r())))).subscribe()),p.add(re([u.subjects.dataChannelStatusSubject,o.status$]).pipe(y(([l,S])=>{l==="open"&&S==="connected"&&o.disconnect()})).subscribe()),p.add(t.iceConnectionStateSubject.pipe(m(l=>l==="disconnected"),y(()=>{r()})).subscribe()),{peerConnection:a,dataChannelClient:u,iceCandidateClient:f,subjects:t,destroy:()=>{var l;(l=e.logger)==null||l.debug("\u{1F578}\u{1F9F9} destroying webRTC instance"),f.destroy(),u.destroy(),i.destroy(),p.unsubscribe()}}},$n=()=>({onNegotiationNeededSubject:new w,onIceCandidateSubject:new w,iceCandidatesSubject:new B([]),onRemoteIceCandidateSubject:new w,remoteIceCandidatesSubject:new B([]),offerSubject:new ne,answerSubject:new ne,onRemoteAnswerSubject:new w,onSignalingStateChangeSubject:new w,dataChannelStatusSubject:new B("closed"),iceConnectionStateSubject:new w}),On=()=>({onMessageSubject:new w,onErrorSubject:new w,statusSubject:new B("disconnected"),targetClientIdSubject:new B(void 0)}),xn=e=>P(e).map(we).asyncAndThen(on).andThen(n=>de.combine([P(n.metaData),...n.chunks.map(P)]).map(t=>({chunks:t,messageId:n.metaData.messageId}))),Rn=(e,n)=>(e.forEach(t=>n.next(t)),fe(void 0)),Tn=(e,n)=>E.fromSafePromise(be(n.pipe(m(t=>["receiveMessageConfirmation","receiveMessageError"].includes(t.packageType)&&t.messageId===e)))).andThen(t=>t.packageType==="receiveMessageConfirmation"?fe(t):le({reason:t.error})),Bn=e=>xn(e.message).mapErr(()=>({reason:se.failedToPrepareMessage})).andThen(({chunks:n,messageId:t})=>E.combine([Rn(n,e.sendMessageOverDataChannelSubject).map(()=>{e.messageEventCallback("messageSent"),e.timeout&&setTimeout(()=>{e.onDataChannelMessageSubject.next({packageType:"receiveMessageError",messageId:t,error:se.timeout})},e.timeout)}),Tn(t,e.onDataChannelMessageSubject)])).map(()=>{}),Dn=()=>({shouldConnectSubject:new B(!1),connected:new B(!1),triggerRestartSubject:new w,onDataChannelMessageSubject:new w,onMessage:new w,sendMessageOverDataChannelSubject:new w}),Un=e=>{const n=e.logger;n==null||n.debug("\u{1F50C}\u2728 connector client initiated");const t=e.subjects||Dn(),r=t.shouldConnectSubject,o=t.connected,a=t.triggerRestartSubject,s=t.onDataChannelMessageSubject,i=t.onMessage,u=t.sendMessageOverDataChannelSubject,f=e.createWebRtcSubjects||(()=>$n()),C=e.createSignalingSubjects||(()=>On()),b=nn({logger:n}),g=a.pipe(Ze(r),A(([,l])=>l),y(()=>n==null?void 0:n.debug("\u{1F50C}\u{1F504} restarting connector client"))),d=L(r.pipe(He((l,S)=>l===S)),g),p=new K,M=b.secrets$.pipe(m(l=>!!l),$(l=>{const S=hn({baseUrl:e.signalingServerBaseUrl,target:e.target,source:e.source,logger:n,subjects:C(),secrets:l,restart:()=>a.next()}),k=In({...X.webRTC,logger:n,shouldCreateOffer:e.isInitiator,subjects:f(),onDataChannelMessageSubject:s,sendMessageOverDataChannelSubject:u,onMessage:i,signalingClient:S,source:e.source,restart:()=>a.next()}),_=()=>{S.destroy(),k.destroy()};return k.dataChannelClient.subjects.dataChannelStatusSubject.pipe(y(c=>o.next(c==="open")),Xe(()=>(o.next(!1),_())))}));return p.add(d.pipe($(l=>Je(()=>!!l,M,[]))).subscribe()),{connected$:o.asObservable(),connected:()=>E.fromPromise(be(o.pipe(m(l=>l))),I),setConnectionPassword:l=>b.deriveSecretsFromPassword(l),connectionPassword$:b.secrets$.pipe(A(l=>l==null?void 0:l.encryptionKey)),generateConnectionPassword:()=>b.generateConnectionSecrets(),connect:()=>r.next(!0),disconnect:()=>r.next(!1),shouldConnect$:r.asObservable(),sendMessage:(l,S)=>{if(!o.getValue())return le({reason:"notConnected"});const k=c=>{},_=(S==null?void 0:S.messageEventCallback)||k;return Bn({message:l,sendMessageOverDataChannelSubject:u,onDataChannelMessageSubject:s,messageEventCallback:_,timeout:S==null?void 0:S.timeout})},onMessage$:i.asObservable(),destroy:()=>{n==null||n.debug("\u{1F50C}\u{1F9F9} destroying connector client"),p.unsubscribe()}}};export{Un as C,Z as c,q as p,y as t,Ze as w};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdG9yLWNsaWVudC43NGYwNWZkYS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL3BhcnNlLWpzb24udHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbWFwT25lT3JNYW55QXJncy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlT2JqZWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvY29uY2F0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZGVmZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9paWYuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW5JbnRlcm5hbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvaWdub3JlRWxlbWVudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcFRvLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWxheVdoZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsQ2hhbmdlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RhcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20uanMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL2hlbHBlcnMvZGVyaXZlLXNlY3JldHMtZnJvbS1jb25uZWN0aW9uLXBhc3N3b3JkLnRzIiwiLi4vLi4vc3JjL2NyeXB0by9zZWN1cmUtcmFuZG9tLnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci9oZWxwZXJzL2dlbmVyYXRlLWNvbm5lY3Rpb24tcGFzc3dvcmQudHMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL3NlY3JldHMtY2xpZW50LnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci9oZWxwZXJzL3BhcnNlLXJhdy1tZXNzYWdlLnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci9fdHlwZXMudHMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL2hlbHBlcnMvZGF0YS1jaHVua2luZy50cyIsIi4uLy4uL3NyYy9jcnlwdG8vZW5jcnlwdGlvbi50cyIsIi4uLy4uL3NyYy91dGlscy9idWZmZXItcmVhZGVyLnRzIiwiLi4vLi4vc3JjL2NyeXB0by9zZWFsYm94LnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci9oZWxwZXJzL2RlY3J5cHQtbWVzc2FnZS1wYXlsb2FkLnRzIiwiLi4vLi4vc3JjL3V0aWxzL3N0cmluZ2lmeS50cyIsIi4uLy4uL3NyYy9jb25uZWN0b3Ivc2lnbmFsaW5nL3NpZ25hbGluZy1jbGllbnQudHMiLCIuLi8uLi9zcmMvdXRpbHMvdG8tYnVmZmVyLnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci93ZWJydGMvaGVscGVycy9oYW5kbGUtaW5jb21pbmctY2h1bmtlZC1tZXNzYWdlcy50cyIsIi4uLy4uL3NyYy9jb25uZWN0b3Ivd2VicnRjL2RhdGEtY2hhbm5lbC1jbGllbnQudHMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL3dlYnJ0Yy9pY2UtY2FuZGlkYXRlLWNsaWVudC50cyIsIi4uLy4uL3NyYy9jb25uZWN0b3Ivd2VicnRjL3BlZXItY29ubmVjdGlvbi1jbGllbnQudHMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL3dlYnJ0Yy93ZWJydGMtY2xpZW50LnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci93ZWJydGMvc3ViamVjdHMudHMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL3NpZ25hbGluZy9zdWJqZWN0cy50cyIsIi4uLy4uL3NyYy9jb25uZWN0b3Ivd2VicnRjL2hlbHBlcnMvcHJlcGFyZS1tZXNzYWdlLnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3Rvci93ZWJydGMvaGVscGVycy9zZW5kLW1lc3NhZ2Utb3Zlci1kYXRhLWNoYW5uZWwtYW5kLXdhaXQtZm9yLWNvbmZpcm1hdGlvbi50cyIsIi4uLy4uL3NyYy9jb25uZWN0b3Ivc3ViamVjdHMudHMiLCIuLi8uLi9zcmMvY29ubmVjdG9yL2Nvbm5lY3Rvci1jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyLCBvaywgUmVzdWx0IH0gZnJvbSAnbmV2ZXJ0aHJvdydcbmltcG9ydCB7IGVycm9ySWRlbnRpdHkgfSBmcm9tICcuL2Vycm9yLWlkZW50aXR5J1xuXG5leHBvcnQgY29uc3QgcGFyc2VKU09OID0gPFQgPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PihcbiAgdGV4dDogc3RyaW5nLFxuKTogUmVzdWx0PFQsIEVycm9yPiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG9rKEpTT04ucGFyc2UodGV4dCkpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycihlcnJvcklkZW50aXR5KGVycm9yKSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbnZhciBCZWhhdmlvclN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgICFzdWJzY3JpcHRpb24uY2xvc2VkICYmIHN1YnNjcmliZXIubmV4dCh0aGlzLl92YWx1ZSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBoYXNFcnJvciA9IF9hLmhhc0Vycm9yLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBfdmFsdWUgPSBfYS5fdmFsdWU7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgdGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsICh0aGlzLl92YWx1ZSA9IHZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlaGF2aW9yU3ViamVjdC5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gXCIuLi9vcGVyYXRvcnMvbWFwXCI7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBjYWxsT3JBcHBseShmbiwgYXJncykge1xuICAgIHJldHVybiBpc0FycmF5KGFyZ3MpID8gZm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKSA6IGZuKGFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9uZU9yTWFueUFyZ3MoZm4pIHtcbiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBjYWxsT3JBcHBseShmbiwgYXJncyk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwT25lT3JNYW55QXJncy5qcy5tYXAiLCJ2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgZ2V0S2V5cyA9IE9iamVjdC5rZXlzO1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYXJnczogZmlyc3RfMSwga2V5czogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BPSk8oZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gZ2V0S2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXJnczoga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSxcbiAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhcmdzOiBhcmdzLCBrZXlzOiBudWxsIH07XG59XG5mdW5jdGlvbiBpc1BPSk8ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBnZXRQcm90b3R5cGVPZihvYmopID09PSBvYmplY3RQcm90bztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3NBcmdBcnJheU9yT2JqZWN0LmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSksIHJlc3VsdCk7IH0sIHt9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZU9iamVjdC5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhcmdzQXJnQXJyYXlPck9iamVjdCB9IGZyb20gJy4uL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciwgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL3V0aWwvY3JlYXRlT2JqZWN0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3QoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIoYXJncyk7XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgdmFyIF9hID0gYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncyksIG9ic2VydmFibGVzID0gX2EuYXJncywga2V5cyA9IF9hLmtleXM7XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZnJvbShbXSwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlKGNvbWJpbmVMYXRlc3RJbml0KG9ic2VydmFibGVzLCBzY2hlZHVsZXIsIGtleXNcbiAgICAgICAgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlcykgeyByZXR1cm4gY3JlYXRlT2JqZWN0KGtleXMsIHZhbHVlcyk7IH1cbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHkpKTtcbiAgICByZXR1cm4gcmVzdWx0U2VsZWN0b3IgPyByZXN1bHQucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSkgOiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdEluaXQob2JzZXJ2YWJsZXMsIHNjaGVkdWxlciwgdmFsdWVUcmFuc2Zvcm0pIHtcbiAgICBpZiAodmFsdWVUcmFuc2Zvcm0gPT09IHZvaWQgMCkgeyB2YWx1ZVRyYW5zZm9ybSA9IGlkZW50aXR5OyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmdGaXJzdFZhbHVlcyA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbShvYnNlcnZhYmxlc1tpXSwgc2NoZWR1bGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0ZpcnN0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzRmlyc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZpcnN0VmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0ZpcnN0VmFsdWVzLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbWFpbmluZ0ZpcnN0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlVHJhbnNmb3JtKHZhbHVlcy5zbGljZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9LCBzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgc3Vic2NyaWJlcik7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBleGVjdXRlLCBzdWJzY3JpcHRpb24pIHtcbiAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpcHRpb24sIHNjaGVkdWxlciwgZXhlY3V0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleGVjdXRlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXAiLCJpbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4vbWVyZ2VBbGwnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEFsbCgpIHtcbiAgICByZXR1cm4gbWVyZ2VBbGwoMSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRBbGwuanMubWFwIiwiaW1wb3J0IHsgY29uY2F0QWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2NvbmNhdEFsbCc7XG5pbXBvcnQgeyBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29uY2F0QWxsKCkoZnJvbShhcmdzLCBwb3BTY2hlZHVsZXIoYXJncykpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdC5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gZGVmZXIob2JzZXJ2YWJsZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaW5uZXJGcm9tKG9ic2VydmFibGVGYWN0b3J5KCkpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmVyLmpzLm1hcCIsImltcG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9kZWZlcic7XG5leHBvcnQgZnVuY3Rpb24gaWlmKGNvbmRpdGlvbiwgdHJ1ZVJlc3VsdCwgZmFsc2VSZXN1bHQpIHtcbiAgICByZXR1cm4gZGVmZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gKGNvbmRpdGlvbigpID8gdHJ1ZVJlc3VsdCA6IGZhbHNlUmVzdWx0KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1paWYuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHNjYW5JbnRlcm5hbHMoYWNjdW11bGF0b3IsIHNlZWQsIGhhc1NlZWQsIGVtaXRPbk5leHQsIGVtaXRCZWZvcmVDb21wbGV0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNTdGF0ZSA9IGhhc1NlZWQ7XG4gICAgICAgIHZhciBzdGF0ZSA9IHNlZWQ7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGkgPSBpbmRleCsrO1xuICAgICAgICAgICAgc3RhdGUgPSBoYXNTdGF0ZVxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0b3Ioc3RhdGUsIHZhbHVlLCBpKVxuICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgKChoYXNTdGF0ZSA9IHRydWUpLCB2YWx1ZSk7XG4gICAgICAgICAgICBlbWl0T25OZXh0ICYmIHN1YnNjcmliZXIubmV4dChzdGF0ZSk7XG4gICAgICAgIH0sIGVtaXRCZWZvcmVDb21wbGV0ZSAmJlxuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoYXNTdGF0ZSAmJiBzdWJzY3JpYmVyLm5leHQoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYW5JbnRlcm5hbHMuanMubWFwIiwiaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCAxKSA6IG1lcmdlTWFwKHByb2plY3QsIDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0TWFwLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5leHBvcnQgZnVuY3Rpb24gaWdub3JlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBub29wKSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZ25vcmVFbGVtZW50cy5qcy5tYXAiLCJpbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5leHBvcnQgZnVuY3Rpb24gbWFwVG8odmFsdWUpIHtcbiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFRvLmpzLm1hcCIsImltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4uL29ic2VydmFibGUvY29uY2F0JztcbmltcG9ydCB7IHRha2UgfSBmcm9tICcuL3Rha2UnO1xuaW1wb3J0IHsgaWdub3JlRWxlbWVudHMgfSBmcm9tICcuL2lnbm9yZUVsZW1lbnRzJztcbmltcG9ydCB7IG1hcFRvIH0gZnJvbSAnLi9tYXBUbyc7XG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IsIHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uY2F0KHN1YnNjcmlwdGlvbkRlbGF5LnBpcGUodGFrZSgxKSwgaWdub3JlRWxlbWVudHMoKSksIHNvdXJjZS5waXBlKGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IpKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7IHJldHVybiBpbm5lckZyb20oZGVsYXlEdXJhdGlvblNlbGVjdG9yKHZhbHVlLCBpbmRleCkpLnBpcGUodGFrZSgxKSwgbWFwVG8odmFsdWUpKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheVdoZW4uanMubWFwIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgZGVsYXlXaGVuIH0gZnJvbSAnLi9kZWxheVdoZW4nO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3RpbWVyJztcbmV4cG9ydCBmdW5jdGlvbiBkZWxheShkdWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIHZhciBkdXJhdGlvbiA9IHRpbWVyKGR1ZSwgc2NoZWR1bGVyKTtcbiAgICByZXR1cm4gZGVsYXlXaGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LmpzLm1hcCIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJhdG9yLCBrZXlTZWxlY3Rvcikge1xuICAgIGlmIChrZXlTZWxlY3RvciA9PT0gdm9pZCAwKSB7IGtleVNlbGVjdG9yID0gaWRlbnRpdHk7IH1cbiAgICBjb21wYXJhdG9yID0gY29tcGFyYXRvciAhPT0gbnVsbCAmJiBjb21wYXJhdG9yICE9PSB2b2lkIDAgPyBjb21wYXJhdG9yIDogZGVmYXVsdENvbXBhcmU7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNLZXk7XG4gICAgICAgIHZhciBmaXJzdCA9IHRydWU7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZmlyc3QgfHwgIWNvbXBhcmF0b3IocHJldmlvdXNLZXksIGN1cnJlbnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0tleSA9IGN1cnJlbnRLZXk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUoYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3RVbnRpbENoYW5nZWQuanMubWFwIiwiaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKGV4aGF1c3RNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9KSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKG91dGVyVmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1YiA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpbm5lckZyb20ocHJvamVjdChvdXRlclZhbHVlLCBpbmRleCsrKSkuc3Vic2NyaWJlKGlubmVyU3ViKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAhaW5uZXJTdWIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGhhdXN0TWFwLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluYWxpemUuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBzY2FuSW50ZXJuYWxzIH0gZnJvbSAnLi9zY2FuSW50ZXJuYWxzJztcbmV4cG9ydCBmdW5jdGlvbiBzY2FuKGFjY3VtdWxhdG9yLCBzZWVkKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoc2NhbkludGVybmFscyhhY2N1bXVsYXRvciwgc2VlZCwgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCB0cnVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FuLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHRhcChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgdmFyIHRhcE9ic2VydmVyID0gaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgICAgP1xuICAgICAgICAgICAgeyBuZXh0OiBvYnNlcnZlck9yTmV4dCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfVxuICAgICAgICA6IG9ic2VydmVyT3JOZXh0O1xuICAgIHJldHVybiB0YXBPYnNlcnZlclxuICAgICAgICA/IG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB2YXIgaXNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIGVycik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGFwT2JzZXJ2ZXIuZmluYWxpemUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXAuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmV4cG9ydCBmdW5jdGlvbiB3aXRoTGF0ZXN0RnJvbSgpIHtcbiAgICB2YXIgaW5wdXRzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgaW5wdXRzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBwcm9qZWN0ID0gcG9wUmVzdWx0U2VsZWN0b3IoaW5wdXRzKTtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsZW4gPSBpbnB1dHMubGVuZ3RoO1xuICAgICAgICB2YXIgb3RoZXJWYWx1ZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gaW5wdXRzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgIHZhciByZWFkeSA9IGZhbHNlO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBpbm5lckZyb20oaW5wdXRzW2ldKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG90aGVyVmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWFkeSAmJiAhaGFzVmFsdWVbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWVbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAocmVhZHkgPSBoYXNWYWx1ZS5ldmVyeShpZGVudGl0eSkpICYmIChoYXNWYWx1ZSA9IG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG5vb3ApKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfX3NwcmVhZEFycmF5KFt2YWx1ZV0sIF9fcmVhZChvdGhlclZhbHVlcykpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0ID8gcHJvamVjdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZCh2YWx1ZXMpKSkgOiB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoTGF0ZXN0RnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBibGFrZTJiIH0gZnJvbSAnY3J5cHRvL2JsYWtlMmInXG5cbmV4cG9ydCBjb25zdCBkZXJpdmVTZWNyZXRzRnJvbVBhc3N3b3JkID0gKHBhc3N3b3JkOiBCdWZmZXIpID0+XG4gIGJsYWtlMmIocGFzc3dvcmQpLm1hcCgoY29ubmVjdGlvbklkKSA9PiAoe1xuICAgIGNvbm5lY3Rpb25JZCxcbiAgICBlbmNyeXB0aW9uS2V5OiBwYXNzd29yZCxcbiAgfSkpXG4iLCJpbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInXG5pbXBvcnQgeyBlcnIsIG9rLCBSZXN1bHQgfSBmcm9tICduZXZlcnRocm93J1xuXG5leHBvcnQgY29uc3Qgc2VjdXJlUmFuZG9tID0gKGJ5dGVDb3VudDogbnVtYmVyKTogUmVzdWx0PEJ1ZmZlciwgRXJyb3I+ID0+IHtcbiAgaWYgKGJ5dGVDb3VudCA8PSAwKSB7XG4gICAgcmV0dXJuIGVycihuZXcgRXJyb3IoYGJ5dGVDb3VudCBvdXQgb2YgYm91bmRhcmllc2ApKVxuICB9XG5cbiAgY29uc3QgYnl0ZXMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVDb3VudCkpXG4gIHJldHVybiBvayhCdWZmZXIuZnJvbShieXRlcykpXG59XG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICdjb25maWcnXG5pbXBvcnQgeyBzZWN1cmVSYW5kb20gfSBmcm9tICdjcnlwdG8vc2VjdXJlLXJhbmRvbSdcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQ29ubmVjdGlvblBhc3N3b3JkID0gKFxuICBieXRlTGVuZ3RoID0gY29uZmlnLnNlY3JldHMuY29ubmVjdGlvblBhc3N3b3JkQnl0ZUxlbmd0aCxcbikgPT4gc2VjdXJlUmFuZG9tKGJ5dGVMZW5ndGgpXG4iLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tICd0c2xvZydcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnXG5pbXBvcnQgeyBkZXJpdmVTZWNyZXRzRnJvbVBhc3N3b3JkIGFzIGRlcml2ZVNlY3JldHNGcm9tUGFzc3dvcmRGbiB9IGZyb20gJy4vaGVscGVycy9kZXJpdmUtc2VjcmV0cy1mcm9tLWNvbm5lY3Rpb24tcGFzc3dvcmQnXG5pbXBvcnQgeyBnZW5lcmF0ZUNvbm5lY3Rpb25QYXNzd29yZCB9IGZyb20gJy4vaGVscGVycy9nZW5lcmF0ZS1jb25uZWN0aW9uLXBhc3N3b3JkJ1xuaW1wb3J0IHsgU2VjcmV0cyB9IGZyb20gJy4vX3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgU2VjcmV0c0NsaWVudCA9IChpbnB1dDogeyBsb2dnZXI/OiBMb2dnZXI8dW5rbm93bj4gfSkgPT4ge1xuICBjb25zdCBsb2dnZXIgPSBpbnB1dC5sb2dnZXJcbiAgY29uc3Qgc2VjcmV0c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFNlY3JldHMgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcblxuICBjb25zdCBnZW5lcmF0ZUNvbm5lY3Rpb25TZWNyZXRzID0gKCkgPT5cbiAgICBnZW5lcmF0ZUNvbm5lY3Rpb25QYXNzd29yZCgpLmFzeW5jQW5kVGhlbigocGFzc3dvcmQpID0+XG4gICAgICBkZXJpdmVTZWNyZXRzRnJvbVBhc3N3b3JkRm4ocGFzc3dvcmQpLm1hcCgoc2VjcmV0cykgPT4ge1xuICAgICAgICBsb2dnZXI/LmRlYnVnKGDwn5SQ8J+UhCBjb25uZWN0aW9uIHBhc3N3b3JkIGdlbmVyYXRlZGApXG4gICAgICAgIHNlY3JldHNTdWJqZWN0Lm5leHQoc2VjcmV0cylcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkXG4gICAgICB9KSxcbiAgICApXG5cbiAgY29uc3QgZGVyaXZlU2VjcmV0c0Zyb21QYXNzd29yZCA9IChwYXNzd29yZDogQnVmZmVyKSA9PlxuICAgIGRlcml2ZVNlY3JldHNGcm9tUGFzc3dvcmRGbihwYXNzd29yZCkubWFwKChzZWNyZXRzKSA9PiB7XG4gICAgICBpZiAoIXNlY3JldHNTdWJqZWN0LnZhbHVlPy5lbmNyeXB0aW9uS2V5LmVxdWFscyhzZWNyZXRzLmVuY3J5cHRpb25LZXkpKVxuICAgICAgICBzZWNyZXRzU3ViamVjdC5uZXh0KHNlY3JldHMpXG4gICAgfSlcblxuICByZXR1cm4ge1xuICAgIGdlbmVyYXRlQ29ubmVjdGlvblNlY3JldHMsXG4gICAgZGVyaXZlU2VjcmV0c0Zyb21QYXNzd29yZCxcbiAgICBzZWNyZXRzJDogc2VjcmV0c1N1YmplY3QsXG4gIH1cbn1cbiIsImltcG9ydCB7IFNpZ25hbGluZ1NlcnZlclJlc3BvbnNlIH0gZnJvbSAnaW8tdHlwZXMvdHlwZXMnXG5pbXBvcnQgeyBwYXJzZUpTT04gfSBmcm9tICd1dGlscydcblxuZXhwb3J0IGNvbnN0IHBhcnNlUmF3TWVzc2FnZSA9IChkYXRhOiBzdHJpbmcpID0+XG4gIHBhcnNlSlNPTjxTaWduYWxpbmdTZXJ2ZXJSZXNwb25zZT4oZGF0YSlcbiIsImltcG9ydCB7XG4gIEljZUNhbmRpZGF0ZSxcbiAgTWVzc2FnZVNvdXJjZXMsXG4gIFJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZCxcbiAgUmVtb3RlQ2xpZW50SXNBbHJlYWR5Q29ubmVjdGVkLFxuICBSZW1vdGVDbGllbnRKdXN0Q29ubmVjdGVkLFxuICBTaWduYWxpbmdTZXJ2ZXJSZXNwb25zZSxcbn0gZnJvbSAnaW8tdHlwZXMvdHlwZXMnXG5pbXBvcnQgeyBTaWduYWxpbmdDbGllbnRUeXBlIH0gZnJvbSAnLi9zaWduYWxpbmcvc2lnbmFsaW5nLWNsaWVudCdcbmltcG9ydCB7IFdlYlJ0Y0NsaWVudCB9IGZyb20gJy4vd2VicnRjL3dlYnJ0Yy1jbGllbnQnXG5cbmV4cG9ydCBjb25zdCByZW1vdGVDbGllbnRTdGF0ZSA9IHtcbiAgcmVtb3RlQ2xpZW50SXNBbHJlYWR5Q29ubmVjdGVkOiAncmVtb3RlQ2xpZW50SXNBbHJlYWR5Q29ubmVjdGVkJyxcbiAgcmVtb3RlQ2xpZW50RGlzY29ubmVjdGVkOiAncmVtb3RlQ2xpZW50RGlzY29ubmVjdGVkJyxcbiAgcmVtb3RlQ2xpZW50SnVzdENvbm5lY3RlZDogJ3JlbW90ZUNsaWVudEp1c3RDb25uZWN0ZWQnLFxufSBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgcmVtb3RlQ2xpZW50Q29ubmVjdGVkID0gbmV3IFNldDxzdHJpbmc+KFtcbiAgcmVtb3RlQ2xpZW50U3RhdGUucmVtb3RlQ2xpZW50SXNBbHJlYWR5Q29ubmVjdGVkLFxuICByZW1vdGVDbGllbnRTdGF0ZS5yZW1vdGVDbGllbnRKdXN0Q29ubmVjdGVkLFxuXSlcblxuZXhwb3J0IGNvbnN0IHJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZCA9IG5ldyBTZXQ8c3RyaW5nPihbXG4gIHJlbW90ZUNsaWVudFN0YXRlLnJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZCxcbl0pXG5cbmV4cG9ydCBjb25zdCBpc1JlbW90ZUNsaWVudENvbm5lY3Rpb25VcGRhdGUgPSAoXG4gIG1lc3NhZ2U6IFNpZ25hbGluZ1NlcnZlclJlc3BvbnNlLFxuKTogbWVzc2FnZSBpc1xuICB8IFJlbW90ZUNsaWVudEp1c3RDb25uZWN0ZWRcbiAgfCBSZW1vdGVDbGllbnRJc0FscmVhZHlDb25uZWN0ZWRcbiAgfCBSZW1vdGVDbGllbnREaXNjb25uZWN0ZWQgPT5cbiAgcmVtb3RlQ2xpZW50Q29ubmVjdGVkLmhhcyhtZXNzYWdlLmluZm8pIHx8XG4gIHJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZC5oYXMobWVzc2FnZS5pbmZvKVxuXG5leHBvcnQgdHlwZSBEZXBlbmRlbmNpZXMgPSB7XG4gIHNlY3JldHM6IFNlY3JldHNcbiAgc2lnbmFsaW5nQ2xpZW50OiBTaWduYWxpbmdDbGllbnRUeXBlXG4gIHdlYlJ0Y0NsaWVudDogV2ViUnRjQ2xpZW50XG4gIHNvdXJjZTogTWVzc2FnZVNvdXJjZXNcbn1cblxuZXhwb3J0IHR5cGUgSWNlQ2FuZGlkYXRlTWVzc2FnZSA9IFBpY2s8XG4gIEljZUNhbmRpZGF0ZSxcbiAgJ21ldGhvZCcgfCAncGF5bG9hZCcgfCAnc291cmNlJ1xuPlxuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0gUmVjb3JkPHN0cmluZywgYW55PlxuXG5leHBvcnQgdHlwZSBTZWNyZXRzID0ge1xuICBlbmNyeXB0aW9uS2V5OiBCdWZmZXJcbiAgY29ubmVjdGlvbklkOiBCdWZmZXJcbn1cblxuZXhwb3J0IHR5cGUgU3RhdHVzID1cbiAgfCAnY29ubmVjdGluZydcbiAgfCAnY29ubmVjdGVkJ1xuICB8ICdkaXNjb25uZWN0ZWQnXG4gIHwgJ2Rpc2Nvbm5lY3RpbmcnXG5cbmV4cG9ydCB0eXBlIE1ldGFEYXRhID0ge1xuICBwYWNrYWdlVHlwZTogJ21ldGFEYXRhJ1xuICBjaHVua0NvdW50OiBudW1iZXJcbiAgaGFzaE9mTWVzc2FnZTogc3RyaW5nXG4gIG1lc3NhZ2VJZDogc3RyaW5nXG4gIG1lc3NhZ2VCeXRlQ291bnQ6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlQ2h1bmsgPSB7XG4gIHBhY2thZ2VUeXBlOiAnY2h1bmsnXG4gIGNodW5rSW5kZXg6IG51bWJlclxuICBjaHVua0RhdGE6IHN0cmluZ1xuICBtZXNzYWdlSWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlQ29uZmlybWF0aW9uID0ge1xuICBwYWNrYWdlVHlwZTogJ3JlY2VpdmVNZXNzYWdlQ29uZmlybWF0aW9uJ1xuICBtZXNzYWdlSWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgbWVzc2FnZUVycm9yUmVhc29ucyA9IHtcbiAgbm90Q29ubmVjdGVkOiAnbm90Q29ubmVjdGVkJyxcbiAgZmFpbGVkVG9TZW5kTWVzc2FnZTogJ2ZhaWxlZFRvU2VuZE1lc3NhZ2UnLFxuICBmYWlsZWRUb1ByZXBhcmVNZXNzYWdlOiAnZmFpbGVkVG9QcmVwYXJlTWVzc2FnZScsXG4gIHRpbWVvdXQ6ICd0aW1lb3V0Jyxcbn0gYXMgY29uc3RcblxuZXhwb3J0IHR5cGUgTWVzc2FnZUVycm9yUmVhc29ucyA9IGtleW9mIHR5cGVvZiBtZXNzYWdlRXJyb3JSZWFzb25zXG5cbmV4cG9ydCB0eXBlIENodW5rZWRNZXNzYWdlUmVjZWl2ZU1lc3NhZ2VFcnJvciA9IHtcbiAgcGFja2FnZVR5cGU6ICdyZWNlaXZlTWVzc2FnZUVycm9yJ1xuICBtZXNzYWdlSWQ6IHN0cmluZ1xuICBlcnJvcjogTWVzc2FnZUVycm9yUmVhc29uc1xufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlRXJyb3JUeXBlcyA9IENodW5rZWRNZXNzYWdlUmVjZWl2ZU1lc3NhZ2VFcnJvclxuXG5leHBvcnQgdHlwZSBDaHVua2VkTWVzc2FnZVR5cGUgPVxuICB8IE1ldGFEYXRhXG4gIHwgTWVzc2FnZUNodW5rXG4gIHwgTWVzc2FnZUNvbmZpcm1hdGlvblxuICB8IE1lc3NhZ2VFcnJvclR5cGVzXG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICdjb25maWcnXG5pbXBvcnQgeyBlcnIsIG9rLCBSZXN1bHQgfSBmcm9tICduZXZlcnRocm93J1xuaW1wb3J0IHsgYnVmZmVyVG9DaHVua3MgfSBmcm9tICd1dGlscydcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcidcbmltcG9ydCB7IGJsYWtlMmIgfSBmcm9tICdjcnlwdG8vYmxha2UyYidcbmltcG9ydCB7IE1lc3NhZ2VDaHVuaywgTWV0YURhdGEgfSBmcm9tICdjb25uZWN0b3IvX3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgbWVzc2FnZVRvQ2h1bmtlZCA9IChcbiAgbWVzc2FnZTogQnVmZmVyLFxuICBjaHVua1NpemUgPSBjb25maWcud2ViUlRDLmNodW5rU2l6ZSxcbikgPT4ge1xuICBjb25zdCBtZXNzYWdlSWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpXG4gIHJldHVybiBidWZmZXJUb0NodW5rcyhtZXNzYWdlLCBjaHVua1NpemUpXG4gICAgLm1hcCgoYnVmZmVycykgPT5cbiAgICAgIGJ1ZmZlcnMubWFwKFxuICAgICAgICAoYnVmZmVyLCBjaHVua0luZGV4KTogTWVzc2FnZUNodW5rID0+ICh7XG4gICAgICAgICAgcGFja2FnZVR5cGU6ICdjaHVuaycsXG4gICAgICAgICAgY2h1bmtJbmRleCxcbiAgICAgICAgICBjaHVua0RhdGE6IGJ1ZmZlci50b1N0cmluZygnYmFzZTY0JyksXG4gICAgICAgICAgbWVzc2FnZUlkLFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKVxuICAgIC5hc3luY0FuZFRoZW4oKGNodW5rcykgPT5cbiAgICAgIGJsYWtlMmIobWVzc2FnZSlcbiAgICAgICAgLm1hcChcbiAgICAgICAgICAoYnVmZmVyKTogTWV0YURhdGEgPT4gKHtcbiAgICAgICAgICAgIHBhY2thZ2VUeXBlOiAnbWV0YURhdGEnLFxuICAgICAgICAgICAgY2h1bmtDb3VudDogY2h1bmtzLmxlbmd0aCxcbiAgICAgICAgICAgIG1lc3NhZ2VCeXRlQ291bnQ6IG1lc3NhZ2UuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIGhhc2hPZk1lc3NhZ2U6IGJ1ZmZlci50b1N0cmluZygnaGV4JyksXG4gICAgICAgICAgICBtZXNzYWdlSWQsXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgLm1hcCgobWV0YURhdGEpID0+ICh7IG1ldGFEYXRhLCBjaHVua3MgfSkpLFxuICAgIClcbn1cblxuZXhwb3J0IGNvbnN0IENodW5rZWQgPSAobWV0YURhdGE6IE1ldGFEYXRhKSA9PiB7XG4gIGNvbnN0IGNodW5rczogTWVzc2FnZUNodW5rW10gPSBbXVxuXG4gIGNvbnN0IGFkZENodW5rID0gKGNodW5rOiBNZXNzYWdlQ2h1bmspID0+IHtcbiAgICBpZiAoY2h1bmsubWVzc2FnZUlkICE9PSBtZXRhRGF0YS5tZXNzYWdlSWQpXG4gICAgICByZXR1cm4gZXJyKEVycm9yKCdtZXNzYWdlSWQgbWlzbWF0Y2gnKSlcblxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSBtZXRhRGF0YS5jaHVua0NvdW50KVxuICAgICAgcmV0dXJuIGVycihFcnJvcignZXhwZWN0ZWQgY2h1bmtzIHJlY2VpdmVkJykpXG5cbiAgICBjaHVua3MucHVzaChjaHVuaylcbiAgICByZXR1cm4gb2sodW5kZWZpbmVkKVxuICB9XG5cbiAgY29uc3QgY29uY2F0Q2h1bmtzID0gKCk6IFJlc3VsdDxzdHJpbmcsIEVycm9yPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBvayhcbiAgICAgICAgY2h1bmtzXG4gICAgICAgICAgLm1hcCgoeyBjaHVua0RhdGEgfSkgPT5cbiAgICAgICAgICAgIEJ1ZmZlci5mcm9tKGNodW5rRGF0YSwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGYtOCcpLFxuICAgICAgICAgIClcbiAgICAgICAgICAuam9pbignJyksXG4gICAgICApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBlcnIoRXJyb3IoJ2ZhaWxlZCB0byBkZWNvZGUgY2h1bmtlZCBtZXNzYWdlcycpKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFsbENodW5rc1JlY2VpdmVkID0gKCk6IFJlc3VsdDxib29sZWFuLCBuZXZlcj4gPT5cbiAgICBtZXRhRGF0YSA/IG9rKG1ldGFEYXRhLmNodW5rQ291bnQgPT09IGNodW5rcy5sZW5ndGgpIDogb2soZmFsc2UpXG5cbiAgY29uc3QgdmFsaWRhdGUgPSAoKSA9PlxuICAgIGNvbmNhdENodW5rcygpXG4gICAgICAuYXN5bmNBbmRUaGVuKCh2YWx1ZSkgPT4gYmxha2UyYihCdWZmZXIuZnJvbSh2YWx1ZSwgJ3V0Zi04JykpKVxuICAgICAgLmFuZFRoZW4oKGhhc2gpID0+IHtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRIYXNoID0gaGFzaC50b1N0cmluZygnaGV4JylcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkSGFzaCA9PT0gbWV0YURhdGEuaGFzaE9mTWVzc2FnZVxuICAgICAgICAgID8gb2sodW5kZWZpbmVkKVxuICAgICAgICAgIDogZXJyKFxuICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICBgbWVzc2FnZSBoYXNoIFwiJHttZXRhRGF0YS5oYXNoT2ZNZXNzYWdlfVwiIGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkIGhhc2ggXCIke2V4cGVjdGVkSGFzaH1cImAsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApXG4gICAgICB9KVxuXG4gIGNvbnN0IGdldE1lc3NhZ2UgPSAoKSA9PlxuICAgIGFsbENodW5rc1JlY2VpdmVkKCkuYXN5bmNBbmRUaGVuKHZhbGlkYXRlKS5hbmRUaGVuKGNvbmNhdENodW5rcylcblxuICByZXR1cm4ge1xuICAgIGFkZENodW5rLFxuICAgIGFsbENodW5rc1JlY2VpdmVkLFxuICAgIHZhbGlkYXRlLFxuICAgIG1ldGFEYXRhLFxuICAgIHRvU3RyaW5nOiBnZXRNZXNzYWdlLFxuICB9XG59XG4iLCJpbXBvcnQgeyBSZXN1bHRBc3luYyB9IGZyb20gJ25ldmVydGhyb3cnXG5pbXBvcnQgeyBlcnJvcklkZW50aXR5IH0gZnJvbSAndXRpbHMvZXJyb3ItaWRlbnRpdHknXG5pbXBvcnQgeyBTZWFsZWRCb3hQcm9wcyB9IGZyb20gJy4vc2VhbGJveCdcbmltcG9ydCB7IHNlY3VyZVJhbmRvbSB9IGZyb20gJy4vc2VjdXJlLXJhbmRvbSdcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcidcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUlWID0gKCkgPT4gc2VjdXJlUmFuZG9tKDEyKVxuXG5leHBvcnQgY29uc3QgZ2V0S2V5ID0gKGVuY3J5cHRpb25LZXk6IEJ1ZmZlcikgPT5cbiAgUmVzdWx0QXN5bmMuZnJvbVByb21pc2UoXG4gICAgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAncmF3JyxcbiAgICAgIGVuY3J5cHRpb25LZXksXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdBRVMtR0NNJyxcbiAgICAgICAgbGVuZ3RoOiAyNTYsXG4gICAgICB9LFxuICAgICAgZmFsc2UsXG4gICAgICBbJ2VuY3J5cHQnLCAnZGVjcnlwdCddLFxuICAgICksXG4gICAgZXJyb3JJZGVudGl0eSxcbiAgKVxuXG5jb25zdCBjcnlwdG9EZWNyeXB0ID0gKGRhdGE6IEJ1ZmZlciwgZW5jcnlwdGlvbktleTogQ3J5cHRvS2V5LCBpdjogQnVmZmVyKSA9PlxuICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShcbiAgICBjcnlwdG8uc3VidGxlLmRlY3J5cHQoeyBuYW1lOiAnQUVTLUdDTScsIGl2IH0sIGVuY3J5cHRpb25LZXksIGRhdGEpLFxuICAgIGVycm9ySWRlbnRpdHksXG4gICkubWFwKEJ1ZmZlci5mcm9tKVxuXG5jb25zdCBjcnlwdG9FbmNyeXB0ID0gKGRhdGE6IEJ1ZmZlciwgZW5jcnlwdGlvbktleTogQ3J5cHRvS2V5LCBpdjogQnVmZmVyKSA9PlxuICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShcbiAgICBjcnlwdG8uc3VidGxlLmVuY3J5cHQoXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdBRVMtR0NNJyxcbiAgICAgICAgaXYsXG4gICAgICB9LFxuICAgICAgZW5jcnlwdGlvbktleSxcbiAgICAgIGRhdGEsXG4gICAgKSxcbiAgICBlcnJvcklkZW50aXR5LFxuICApLm1hcChCdWZmZXIuZnJvbSlcblxuZXhwb3J0IGNvbnN0IGRlY3J5cHQgPSAoXG4gIGRhdGE6IEJ1ZmZlcixcbiAgZW5jcnlwdGlvbktleTogQnVmZmVyLFxuICBpdjogQnVmZmVyLFxuKTogUmVzdWx0QXN5bmM8QnVmZmVyLCBFcnJvcj4gPT5cbiAgZ2V0S2V5KGVuY3J5cHRpb25LZXkpLmFuZFRoZW4oKGNyeXB0b0tleSkgPT5cbiAgICBjcnlwdG9EZWNyeXB0KGRhdGEsIGNyeXB0b0tleSwgaXYpLFxuICApXG5cbmNvbnN0IGNvbWJpbmVJVmFuZENpcGhlclRleHQgPSAoaXY6IEJ1ZmZlciwgY2lwaGVydGV4dDogQnVmZmVyKTogQnVmZmVyID0+XG4gIEJ1ZmZlci5jb25jYXQoW2l2LCBjaXBoZXJ0ZXh0XSlcblxuZXhwb3J0IGNvbnN0IGVuY3J5cHQgPSAoXG4gIGRhdGE6IEJ1ZmZlcixcbiAgZW5jcnlwdGlvbktleTogQnVmZmVyLFxuICBpdjogQnVmZmVyLFxuKTogUmVzdWx0QXN5bmM8XG4gIE9taXQ8U2VhbGVkQm94UHJvcHMsICdjaXBoZXJ0ZXh0QW5kQXV0aFRhZycgfCAnYXV0aFRhZyc+LFxuICBFcnJvclxuPiA9PlxuICBnZXRLZXkoZW5jcnlwdGlvbktleSlcbiAgICAuYW5kVGhlbigoY3J5cHRvS2V5KSA9PiBjcnlwdG9FbmNyeXB0KGRhdGEsIGNyeXB0b0tleSwgaXYpKVxuICAgIC5tYXAoKGNpcGhlcnRleHQpID0+ICh7XG4gICAgICBjb21iaW5lZDogY29tYmluZUlWYW5kQ2lwaGVyVGV4dChpdiwgY2lwaGVydGV4dCksXG4gICAgICBpdixcbiAgICAgIGNpcGhlcnRleHQsXG4gICAgfSkpXG4gICAgLm1hcEVycigoZXJyb3IpID0+IGVycm9yKVxuIiwiaW1wb3J0IHsgZXJyLCBvaywgUmVzdWx0IH0gZnJvbSAnbmV2ZXJ0aHJvdydcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcidcblxudHlwZSBCdWZmZXJSZWFkZXIgPSB7XG4gIGZpbmlzaGVkUGFyc2luZzogKCkgPT4gUmVzdWx0PGJvb2xlYW4sIEVycm9yPlxuICByZWFkTmV4dEJ1ZmZlcjogKGJ5dGVDb3VudDogbnVtYmVyKSA9PiBSZXN1bHQ8QnVmZmVyLCBFcnJvcj5cbiAgcmVtYWluaW5nQnl0ZXM6ICgpID0+IFJlc3VsdDxCdWZmZXIsIEVycm9yPlxufVxuXG5jb25zdCBjcmVhdGVCdWZmZXJSZWFkZXIgPSAoYnVmZmVyOiBCdWZmZXIpOiBCdWZmZXJSZWFkZXIgPT4ge1xuICBsZXQgb2Zmc2V0ID0gMFxuICBsZXQgYnl0ZXNMZWZ0VG9SZWFkID0gYnVmZmVyLmxlbmd0aFxuXG4gIGNvbnN0IHJlYWROZXh0QnVmZmVyID0gKGJ5dGVDb3VudDogbnVtYmVyKTogUmVzdWx0PEJ1ZmZlciwgRXJyb3I+ID0+IHtcbiAgICBpZiAoYnl0ZUNvdW50IDwgMCkgcmV0dXJuIGVycihFcnJvcihgJ2J5dGVDb3VudCcgbXVzdCBub3QgYmUgbmVnYXRpdmVgKSlcbiAgICBpZiAoYnl0ZUNvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4gb2soQnVmZmVyLmFsbG9jKDApKVxuICAgIH1cbiAgICBpZiAob2Zmc2V0ICsgYnl0ZUNvdW50ID4gYnVmZmVyLmxlbmd0aClcbiAgICAgIHJldHVybiBlcnIoRXJyb3IoYE91dCBvZiBidWZmZXIncyBib3VuZGFyeWApKVxuXG4gICAgY29uc3QgYnVmVG9SZXR1cm4gPSBCdWZmZXIuYWxsb2MoYnl0ZUNvdW50KVxuICAgIGJ1ZmZlci5jb3B5KGJ1ZlRvUmV0dXJuLCAwLCBvZmZzZXQsIG9mZnNldCArIGJ5dGVDb3VudClcblxuICAgIGlmIChidWZUb1JldHVybi5sZW5ndGggIT09IGJ5dGVDb3VudCkge1xuICAgICAgcmV0dXJuIGVycihFcnJvcihgSW5jb3JyZWN0IGxlbmd0aCBvZiBuZXdseSByZWFkIGJ1ZmZlci4uLmApKVxuICAgIH1cblxuICAgIG9mZnNldCArPSBieXRlQ291bnRcbiAgICBieXRlc0xlZnRUb1JlYWQgLT0gYnl0ZUNvdW50XG5cbiAgICByZXR1cm4gb2soYnVmVG9SZXR1cm4pXG4gIH1cblxuICBjb25zdCBmaW5pc2hlZFBhcnNpbmcgPSAoKTogUmVzdWx0PGJvb2xlYW4sIEVycm9yPiA9PiB7XG4gICAgaWYgKGJ5dGVzTGVmdFRvUmVhZCA8IDApIHtcbiAgICAgIHJldHVybiBlcnIoRXJyb3IoYEluY29ycmVjdCBpbXBsZW1lbnRhdGlvbiwgcmVhZCB0b28gbWFueSBieXRlcy5gKSlcbiAgICB9XG4gICAgcmV0dXJuIG9rKGJ5dGVzTGVmdFRvUmVhZCA9PT0gMClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVhZE5leHRCdWZmZXIsXG4gICAgZmluaXNoZWRQYXJzaW5nLFxuICAgIHJlbWFpbmluZ0J5dGVzOiAoKSA9PlxuICAgICAgZmluaXNoZWRQYXJzaW5nKCkuYW5kVGhlbigoZmluaXNoZWQpID0+IHtcbiAgICAgICAgaWYgKGZpbmlzaGVkKSByZXR1cm4gb2soQnVmZmVyLmFsbG9jKDApKVxuXG4gICAgICAgIGNvbnN0IGxlZnRCdWYgPSBCdWZmZXIuYWxsb2MoYnl0ZXNMZWZ0VG9SZWFkKVxuICAgICAgICBidWZmZXIuY29weShsZWZ0QnVmLCAwLCBvZmZzZXQpXG4gICAgICAgIHJldHVybiBvayhsZWZ0QnVmKVxuICAgICAgfSksXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlYWRCdWZmZXIgPSAoXG4gIGJ1ZmZlcjogQnVmZmVyLFxuKTogKChieXRlQ291bnQ6IG51bWJlcikgPT4gUmVzdWx0PEJ1ZmZlciwgRXJyb3I+KSA9PlxuICBjcmVhdGVCdWZmZXJSZWFkZXIoYnVmZmVyKS5yZWFkTmV4dEJ1ZmZlclxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJ1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnbmV2ZXJ0aHJvdydcbmltcG9ydCB7IHJlYWRCdWZmZXIgfSBmcm9tICd1dGlscy9idWZmZXItcmVhZGVyJ1xuXG5leHBvcnQgdHlwZSBTZWFsZWRCb3hQcm9wcyA9IHtcbiAgY2lwaGVydGV4dDogQnVmZmVyXG4gIGl2OiBCdWZmZXJcbiAgYXV0aFRhZzogQnVmZmVyXG4gIGNvbWJpbmVkOiBCdWZmZXJcbiAgY2lwaGVydGV4dEFuZEF1dGhUYWc6IEJ1ZmZlclxufVxuXG5jb25zdCBjb21iaW5lU2VhbGJveFRvQnVmZmVyID0gKHtcbiAgaXYsXG4gIGNpcGhlcnRleHQsXG4gIGF1dGhUYWcsXG59OiBQaWNrPFNlYWxlZEJveFByb3BzLCAnaXYnIHwgJ2NpcGhlcnRleHQnIHwgJ2F1dGhUYWcnPik6IEJ1ZmZlciA9PlxuICBCdWZmZXIuY29uY2F0KFtpdiwgY2lwaGVydGV4dCwgYXV0aFRhZ10pXG5cbmNvbnN0IGNvbWJpbmVDaXBoZXJ0ZXh0QW5kQXV0aHRhZyA9ICh7XG4gIGNpcGhlcnRleHQsXG4gIGF1dGhUYWcsXG59OiBQaWNrPFNlYWxlZEJveFByb3BzLCAnY2lwaGVydGV4dCcgfCAnYXV0aFRhZyc+KTogQnVmZmVyID0+XG4gIEJ1ZmZlci5jb25jYXQoW2NpcGhlcnRleHQsIGF1dGhUYWddKVxuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtQnVmZmVyVG9TZWFsYm94ID0gKFxuICBidWZmZXI6IEJ1ZmZlcixcbik6IFJlc3VsdDxTZWFsZWRCb3hQcm9wcywgRXJyb3I+ID0+IHtcbiAgY29uc3QgcmVhZE5leHRCdWZmZXIgPSByZWFkQnVmZmVyKGJ1ZmZlcilcblxuICBjb25zdCBub25jZUxlbmd0aCA9IDEyXG4gIGNvbnN0IGF1dGhUYWdMZW5ndGggPSAxNlxuXG4gIHJldHVybiBSZXN1bHQuY29tYmluZShbXG4gICAgcmVhZE5leHRCdWZmZXIobm9uY2VMZW5ndGgpLFxuICAgIHJlYWROZXh0QnVmZmVyKGJ1ZmZlci5sZW5ndGggLSBub25jZUxlbmd0aCAtIGF1dGhUYWdMZW5ndGgpLFxuICAgIHJlYWROZXh0QnVmZmVyKGF1dGhUYWdMZW5ndGgpLFxuICBdKS5tYXAoKFtpdiwgY2lwaGVydGV4dCwgYXV0aFRhZ106IEJ1ZmZlcltdKSA9PiAoe1xuICAgIGl2LFxuICAgIGNpcGhlcnRleHQsXG4gICAgYXV0aFRhZyxcbiAgICBjb21iaW5lZDogY29tYmluZVNlYWxib3hUb0J1ZmZlcih7IGl2LCBjaXBoZXJ0ZXh0LCBhdXRoVGFnIH0pLFxuICAgIGNpcGhlcnRleHRBbmRBdXRoVGFnOiBjb21iaW5lQ2lwaGVydGV4dEFuZEF1dGh0YWcoe1xuICAgICAgY2lwaGVydGV4dCxcbiAgICAgIGF1dGhUYWcsXG4gICAgfSksXG4gIH0pKVxufVxuIiwiaW1wb3J0IHsgZGVjcnlwdCB9IGZyb20gJ2NyeXB0by9lbmNyeXB0aW9uJ1xuaW1wb3J0IHsgdHJhbnNmb3JtQnVmZmVyVG9TZWFsYm94IH0gZnJvbSAnY3J5cHRvL3NlYWxib3gnXG5pbXBvcnQgeyBEYXRhVHlwZXMgfSBmcm9tICdpby10eXBlcy90eXBlcydcbmltcG9ydCB7IFJlc3VsdEFzeW5jIH0gZnJvbSAnbmV2ZXJ0aHJvdydcbmltcG9ydCB7IHBhcnNlSlNPTiB9IGZyb20gJ3V0aWxzJ1xuXG5leHBvcnQgY29uc3QgZGVjcnlwdE1lc3NhZ2VQYXlsb2FkID0gPFQgPSBEYXRhVHlwZXNbJ3BheWxvYWQnXT4oXG4gIG1lc3NhZ2U6IERhdGFUeXBlcyxcbiAgZW5jcnlwdGlvbktleTogQnVmZmVyLFxuKTogUmVzdWx0QXN5bmM8VCwgRXJyb3I+ID0+XG4gIHRyYW5zZm9ybUJ1ZmZlclRvU2VhbGJveChCdWZmZXIuZnJvbShtZXNzYWdlLmVuY3J5cHRlZFBheWxvYWQsICdoZXgnKSlcbiAgICAuYXN5bmNBbmRUaGVuKCh7IGNpcGhlcnRleHRBbmRBdXRoVGFnLCBpdiB9KSA9PlxuICAgICAgZGVjcnlwdChjaXBoZXJ0ZXh0QW5kQXV0aFRhZywgZW5jcnlwdGlvbktleSwgaXYpLFxuICAgIClcbiAgICAuYW5kVGhlbigoZGVjcnlwdGVkKSA9PiBwYXJzZUpTT048VD4oZGVjcnlwdGVkLnRvU3RyaW5nKCd1dGY4JykpKVxuIiwiaW1wb3J0IHsgZXJyLCBvaywgUmVzdWx0IH0gZnJvbSAnbmV2ZXJ0aHJvdydcblxuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeSA9IChpbnB1dDogdW5rbm93bik6IFJlc3VsdDxzdHJpbmcsIEVycm9yPiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG9rKEpTT04uc3RyaW5naWZ5KGlucHV0KSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyKGVycm9yIGFzIEVycm9yKVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBBbnN3ZXIsXG4gIENvbmZpcm1hdGlvbixcbiAgRGF0YVR5cGVzLFxuICBJY2VDYW5kaWRhdGUsXG4gIE1lc3NhZ2VTb3VyY2VzLFxuICBPZmZlcixcbiAgUmVtb3RlRGF0YSxcbn0gZnJvbSAnaW8tdHlwZXMvdHlwZXMnXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICd0c2xvZydcbmltcG9ydCB7XG4gIGNvbmNhdE1hcCxcbiAgZGVsYXksXG4gIGZpbHRlcixcbiAgZmlyc3QsXG4gIGZyb20sXG4gIG1hcCxcbiAgbWVyZ2UsXG4gIG1lcmdlTWFwLFxuICBPYnNlcnZhYmxlLFxuICBvZixcbiAgU3Vic2NyaXB0aW9uLFxuICBzd2l0Y2hNYXAsXG4gIHRhcCxcbn0gZnJvbSAncnhqcydcbmltcG9ydCB7IHBhcnNlUmF3TWVzc2FnZSB9IGZyb20gJy4uL2hlbHBlcnMvcGFyc2UtcmF3LW1lc3NhZ2UnXG5pbXBvcnQgeyBTaWduYWxpbmdTdWJqZWN0c1R5cGUgfSBmcm9tICcuL3N1YmplY3RzJ1xuaW1wb3J0IHtcbiAgaXNSZW1vdGVDbGllbnRDb25uZWN0aW9uVXBkYXRlLFxuICByZW1vdGVDbGllbnRDb25uZWN0ZWQsXG4gIHJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZCxcbiAgcmVtb3RlQ2xpZW50U3RhdGUsXG4gIFNlY3JldHMsXG59IGZyb20gJ2Nvbm5lY3Rvci9fdHlwZXMnXG5pbXBvcnQgeyBkZWNyeXB0TWVzc2FnZVBheWxvYWQgfSBmcm9tICdjb25uZWN0b3IvaGVscGVycydcbmltcG9ydCB7IGVyciwgb2ssIE9rLCBSZXN1bHQsIFJlc3VsdEFzeW5jIH0gZnJvbSAnbmV2ZXJ0aHJvdydcbmltcG9ydCB7IGNyZWF0ZUlWLCBlbmNyeXB0IH0gZnJvbSAnY3J5cHRvL2VuY3J5cHRpb24nXG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tICd1dGlscy9zdHJpbmdpZnknXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdjb25maWcnXG5cbmV4cG9ydCB0eXBlIFNpZ25hbGluZ0NsaWVudFR5cGUgPSBSZXR1cm5UeXBlPHR5cGVvZiBTaWduYWxpbmdDbGllbnQ+XG5cbmV4cG9ydCBjb25zdCBTaWduYWxpbmdDbGllbnQgPSAoaW5wdXQ6IHtcbiAgYmFzZVVybDogc3RyaW5nXG4gIHN1YmplY3RzOiBTaWduYWxpbmdTdWJqZWN0c1R5cGVcbiAgc2VjcmV0czogU2VjcmV0c1xuICB0YXJnZXQ6IE1lc3NhZ2VTb3VyY2VzXG4gIHNvdXJjZTogTWVzc2FnZVNvdXJjZXNcbiAgbG9nZ2VyPzogTG9nZ2VyPHVua25vd24+XG4gIHJlc3RhcnQ6ICgpID0+IHZvaWRcbn0pID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gaW5wdXQubG9nZ2VyXG4gIGNvbnN0IHN1YmplY3RzID0gaW5wdXQuc3ViamVjdHNcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpXG4gIGNvbnN0IGNvbm5lY3Rpb25JZCA9IEJ1ZmZlci5mcm9tKGlucHV0LnNlY3JldHMuY29ubmVjdGlvbklkKS50b1N0cmluZygnaGV4JylcbiAgY29uc3QgdXJsID0gYCR7aW5wdXQuYmFzZVVybH0vJHtjb25uZWN0aW9uSWR9P3RhcmdldD0ke2lucHV0LnRhcmdldH0mc291cmNlPSR7aW5wdXQuc291cmNlfWBcblxuICBzdWJqZWN0cy5zdGF0dXNTdWJqZWN0Lm5leHQoJ2Nvbm5lY3RpbmcnKVxuICBsb2dnZXI/LmRlYnVnKGDwn5uw4pqq77iPIHNpZ25hbGluZyBzZXJ2ZXI6IGNvbm5lY3RpbmdgLCB7IHVybCB9KVxuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodXJsKVxuXG4gIGNvbnN0IG9uQ29uZmlybWF0aW9uJCA9IGlucHV0LnN1YmplY3RzLm9uTWVzc2FnZVN1YmplY3QucGlwZShcbiAgICBmaWx0ZXIoXG4gICAgICAobWVzc2FnZSk6IG1lc3NhZ2UgaXMgQ29uZmlybWF0aW9uID0+IG1lc3NhZ2UuaW5mbyA9PT0gJ2NvbmZpcm1hdGlvbicsXG4gICAgKSxcbiAgKVxuXG4gIGNvbnN0IHdhaXRGb3JDb25maXJtYXRpb24gPSAocmVxdWVzdElkOiBzdHJpbmcpID0+XG4gICAgb25Db25maXJtYXRpb24kLnBpcGUoXG4gICAgICBmaWx0ZXIoKGluY29taW5nTWVzc2FnZSkgPT4gaW5jb21pbmdNZXNzYWdlLnJlcXVlc3RJZCA9PT0gcmVxdWVzdElkKSxcbiAgICApXG5cbiAgY29uc3Qgb25NZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQ8c3RyaW5nPikgPT4ge1xuICAgIHBhcnNlUmF3TWVzc2FnZShldmVudC5kYXRhKS5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmIChtZXNzYWdlLmluZm8gPT09ICdyZW1vdGVEYXRhJylcbiAgICAgICAgbG9nZ2VyPy50cmFjZShcbiAgICAgICAgICBg8J+bsPCfkqzirIfvuI8gcmVjZWl2ZWQ6ICR7bWVzc2FnZS5kYXRhLm1ldGhvZH0gKCR7bWVzc2FnZS5yZXF1ZXN0SWR9KWAsXG4gICAgICAgIClcbiAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuaW5mbyAhPT0gJ2NvbmZpcm1hdGlvbicpXG4gICAgICAgIGxvZ2dlcj8udHJhY2UoYPCfm7Dwn5Ks4qyH77iPIHJlY2VpdmVkOmAsIG1lc3NhZ2UpXG5cbiAgICAgIHN1YmplY3RzLm9uTWVzc2FnZVN1YmplY3QubmV4dChtZXNzYWdlKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBvbk9wZW4gPSAoKSA9PiB7XG4gICAgbG9nZ2VyPy5kZWJ1Zyhg8J+bsPCfn6Igc2lnbmFsaW5nIHNlcnZlcjogY29ubmVjdGVkYClcbiAgICBzdWJqZWN0cy5zdGF0dXNTdWJqZWN0Lm5leHQoJ2Nvbm5lY3RlZCcpXG4gIH1cblxuICBjb25zdCBvbkNsb3NlID0gKGNsb3NlRXZlbnQ6IENsb3NlRXZlbnQpID0+IHtcbiAgICBsb2dnZXI/LmRlYnVnKGDwn5uw8J+UtCBzaWduYWxpbmcgc2VydmVyOiBkaXNjb25uZWN0ZWRgKVxuICAgIHN1YmplY3RzLnN0YXR1c1N1YmplY3QubmV4dCgnZGlzY29ubmVjdGVkJylcbiAgfVxuXG4gIGNvbnN0IG9uRXJyb3IgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgbG9nZ2VyPy5kZWJ1Zyhg8J+bsOKdjCBzaWduYWxpbmcgc2VydmVyIGVycm9yYCwgZXZlbnQpXG4gICAgc3ViamVjdHMub25FcnJvclN1YmplY3QubmV4dChldmVudClcbiAgfVxuXG4gIGNvbnN0IHByZXBhcmVNZXNzYWdlID0gKHtcbiAgICBwYXlsb2FkLFxuICAgIG1ldGhvZCxcbiAgICBzb3VyY2UsXG4gICAgdGFyZ2V0Q2xpZW50SWQsXG4gIH06IFBpY2s8XG4gICAgRGF0YVR5cGVzLFxuICAgICdwYXlsb2FkJyB8ICdtZXRob2QnIHwgJ3NvdXJjZScgfCAndGFyZ2V0Q2xpZW50SWQnXG4gID4pOiBSZXN1bHRBc3luYzxPbWl0PERhdGFUeXBlcywgJ3BheWxvYWQnPiwgRXJyb3I+ID0+XG4gICAgY3JlYXRlSVYoKVxuICAgICAgLmFzeW5jQW5kVGhlbigoaXYpID0+XG4gICAgICAgIGVuY3J5cHQoXG4gICAgICAgICAgQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLFxuICAgICAgICAgIGlucHV0LnNlY3JldHMuZW5jcnlwdGlvbktleSxcbiAgICAgICAgICBpdixcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5tYXAoKGVuY3J5cHRlZCkgPT4gKHtcbiAgICAgICAgcmVxdWVzdElkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICBjb25uZWN0aW9uSWQ6IGNvbm5lY3Rpb25JZCxcbiAgICAgICAgdGFyZ2V0Q2xpZW50SWQsXG4gICAgICAgIGVuY3J5cHRlZFBheWxvYWQ6IGVuY3J5cHRlZC5jb21iaW5lZC50b1N0cmluZygnaGV4JyksXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgc291cmNlLFxuICAgICAgfSkpXG4gICAgICAubWFwRXJyKChlcnIpID0+IHtcbiAgICAgICAgbG9nZ2VyPy5lcnJvcihgcHJlcGFyZU1lc3NhZ2VgLCBlcnIpXG4gICAgICAgIHJldHVybiBlcnJcbiAgICAgIH0pXG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSAoXG4gICAgbWVzc2FnZTogUGljazxcbiAgICAgIERhdGFUeXBlcyxcbiAgICAgICdwYXlsb2FkJyB8ICdtZXRob2QnIHwgJ3NvdXJjZScgfCAndGFyZ2V0Q2xpZW50SWQnXG4gICAgPixcbiAgKTogT2JzZXJ2YWJsZTxSZXN1bHQ8dW5kZWZpbmVkLCBFcnJvcj4+ID0+XG4gICAgZnJvbShwcmVwYXJlTWVzc2FnZShtZXNzYWdlKSkucGlwZShcbiAgICAgIG1lcmdlTWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5pc0VycigpKSByZXR1cm4gb2YoZXJyKHJlc3VsdC5lcnJvcikpXG5cbiAgICAgICAgY29uc3QgZW5jcnlwdGVkTWVzc2FnZSA9IHJlc3VsdC52YWx1ZVxuXG4gICAgICAgIGNvbnN0IHNlbmRNZXNzYWdlJCA9IG9mKHN0cmluZ2lmeShlbmNyeXB0ZWRNZXNzYWdlKSkucGlwZShcbiAgICAgICAgICB0YXAoKHJlc3VsdCkgPT5cbiAgICAgICAgICAgIHJlc3VsdC5tYXAoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgbG9nZ2VyPy50cmFjZShcbiAgICAgICAgICAgICAgICBg8J+bsPCfkqzirIbvuI8gc2VuZGluZzogJHttZXNzYWdlLm1ldGhvZH0gKCR7ZW5jcnlwdGVkTWVzc2FnZS5yZXF1ZXN0SWR9KWAsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIHdzLnNlbmQoZGF0YSlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICksXG4gICAgICAgICAgZmlsdGVyKCgpID0+IGZhbHNlKSxcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiBtZXJnZShcbiAgICAgICAgICBzZW5kTWVzc2FnZSQsXG4gICAgICAgICAgd2FpdEZvckNvbmZpcm1hdGlvbihlbmNyeXB0ZWRNZXNzYWdlLnJlcXVlc3RJZCksXG4gICAgICAgICkucGlwZShtYXAoKCkgPT4gb2sodW5kZWZpbmVkKSkpXG4gICAgICB9KSxcbiAgICAgIGZpcnN0KCksXG4gICAgKVxuXG4gIGNvbnN0IHdhaXRGb3JSZW1vdGVDbGllbnQgPSAod2FpdEZvcjogU2V0PHN0cmluZz4pID0+XG4gICAgc3ViamVjdHMub25NZXNzYWdlU3ViamVjdC5waXBlKFxuICAgICAgZmlsdGVyKChtZXNzYWdlKSA9PiB3YWl0Rm9yLmhhcyhtZXNzYWdlLmluZm8pKSxcbiAgICAgIGZpcnN0KCksXG4gICAgKVxuXG4gIGNvbnN0IG9uT2ZmZXIkID0gaW5wdXQuc3ViamVjdHMub25NZXNzYWdlU3ViamVjdC5waXBlKFxuICAgIGZpbHRlcihcbiAgICAgIChtZXNzYWdlKTogbWVzc2FnZSBpcyBSZW1vdGVEYXRhPE9mZmVyPiA9PlxuICAgICAgICBtZXNzYWdlLmluZm8gPT09ICdyZW1vdGVEYXRhJyAmJiBtZXNzYWdlLmRhdGEubWV0aG9kID09PSAnb2ZmZXInLFxuICAgICksXG4gICAgc3dpdGNoTWFwKChtZXNzYWdlKSA9PlxuICAgICAgZGVjcnlwdE1lc3NhZ2VQYXlsb2FkPE9mZmVyWydwYXlsb2FkJ10+KFxuICAgICAgICBtZXNzYWdlLmRhdGEsXG4gICAgICAgIGlucHV0LnNlY3JldHMuZW5jcnlwdGlvbktleSxcbiAgICAgICksXG4gICAgKSxcbiAgICBmaWx0ZXIoKHJlc3VsdCk6IHJlc3VsdCBpcyBPazxPZmZlclsncGF5bG9hZCddLCBuZXZlcj4gPT4gIXJlc3VsdC5pc0VycigpKSxcbiAgICBtYXAoXG4gICAgICAocmVzdWx0KTogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCA9PiAoe1xuICAgICAgICAuLi5yZXN1bHQudmFsdWUsXG4gICAgICAgIHR5cGU6ICdvZmZlcicsXG4gICAgICB9KSxcbiAgICApLFxuICApXG5cbiAgY29uc3Qgb25BbnN3ZXIkID0gaW5wdXQuc3ViamVjdHMub25NZXNzYWdlU3ViamVjdC5waXBlKFxuICAgIGZpbHRlcihcbiAgICAgIChtZXNzYWdlKTogbWVzc2FnZSBpcyBSZW1vdGVEYXRhPEFuc3dlcj4gPT5cbiAgICAgICAgbWVzc2FnZS5pbmZvID09PSAncmVtb3RlRGF0YScgJiYgbWVzc2FnZS5kYXRhLm1ldGhvZCA9PT0gJ2Fuc3dlcicsXG4gICAgKSxcbiAgICBzd2l0Y2hNYXAoKG1lc3NhZ2UpID0+XG4gICAgICBkZWNyeXB0TWVzc2FnZVBheWxvYWQ8QW5zd2VyWydwYXlsb2FkJ10+KFxuICAgICAgICBtZXNzYWdlLmRhdGEsXG4gICAgICAgIGlucHV0LnNlY3JldHMuZW5jcnlwdGlvbktleSxcbiAgICAgICksXG4gICAgKSxcbiAgICBmaWx0ZXIoKHJlc3VsdCk6IHJlc3VsdCBpcyBPazxBbnN3ZXJbJ3BheWxvYWQnXSwgbmV2ZXI+ID0+ICFyZXN1bHQuaXNFcnIoKSksXG4gICAgbWFwKFxuICAgICAgKHJlc3VsdCk6IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQgPT4gKHtcbiAgICAgICAgLi4ucmVzdWx0LnZhbHVlLFxuICAgICAgICB0eXBlOiAnYW5zd2VyJyxcbiAgICAgIH0pLFxuICAgICksXG4gIClcblxuICBjb25zdCBvbkljZUNhbmRpZGF0ZSQgPSBpbnB1dC5zdWJqZWN0cy5vbk1lc3NhZ2VTdWJqZWN0LnBpcGUoXG4gICAgZmlsdGVyKFxuICAgICAgKG1lc3NhZ2UpOiBtZXNzYWdlIGlzIFJlbW90ZURhdGE8SWNlQ2FuZGlkYXRlPiA9PlxuICAgICAgICBtZXNzYWdlLmluZm8gPT09ICdyZW1vdGVEYXRhJyAmJiBtZXNzYWdlLmRhdGEubWV0aG9kID09PSAnaWNlQ2FuZGlkYXRlJyxcbiAgICApLFxuICAgIGNvbmNhdE1hcCgobWVzc2FnZSkgPT5cbiAgICAgIGRlY3J5cHRNZXNzYWdlUGF5bG9hZDxJY2VDYW5kaWRhdGVbJ3BheWxvYWQnXT4oXG4gICAgICAgIG1lc3NhZ2UuZGF0YSxcbiAgICAgICAgaW5wdXQuc2VjcmV0cy5lbmNyeXB0aW9uS2V5LFxuICAgICAgKSxcbiAgICApLFxuICAgIGZpbHRlcihcbiAgICAgIChyZXN1bHQpOiByZXN1bHQgaXMgT2s8SWNlQ2FuZGlkYXRlWydwYXlsb2FkJ10sIG5ldmVyPiA9PiAhcmVzdWx0LmlzRXJyKCksXG4gICAgKSxcbiAgICBtYXAoKHJlc3VsdCkgPT4gbmV3IFJUQ0ljZUNhbmRpZGF0ZShyZXN1bHQudmFsdWUpKSxcbiAgKVxuXG4gIGNvbnN0IG9uUmVtb3RlQ2xpZW50Q29ubmVjdGlvblN0YXRlQ2hhbmdlJCA9XG4gICAgaW5wdXQuc3ViamVjdHMub25NZXNzYWdlU3ViamVjdC5waXBlKFxuICAgICAgZmlsdGVyKGlzUmVtb3RlQ2xpZW50Q29ubmVjdGlvblVwZGF0ZSksXG4gICAgICB0YXAoKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgc3ViamVjdHMudGFyZ2V0Q2xpZW50SWRTdWJqZWN0Lm5leHQoXG4gICAgICAgICAgbWVzc2FnZS5pbmZvID09PSByZW1vdGVDbGllbnRTdGF0ZS5yZW1vdGVDbGllbnREaXNjb25uZWN0ZWRcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IG1lc3NhZ2UucmVtb3RlQ2xpZW50SWQsXG4gICAgICAgIClcbiAgICAgIH0pLFxuICAgIClcblxuICBzdWJzY3JpcHRpb24uYWRkKG9uUmVtb3RlQ2xpZW50Q29ubmVjdGlvblN0YXRlQ2hhbmdlJC5zdWJzY3JpYmUoKSlcblxuICBzdWJzY3JpcHRpb24uYWRkKFxuICAgIHN1YmplY3RzLm9uRXJyb3JTdWJqZWN0XG4gICAgICAucGlwZShcbiAgICAgICAgZGVsYXkoMV8wMDApLFxuICAgICAgICB0YXAoKCkgPT4ge1xuICAgICAgICAgIGlucHV0LnJlc3RhcnQoKVxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKSxcbiAgKVxuXG4gIHdzLm9ubWVzc2FnZSA9IG9uTWVzc2FnZVxuICB3cy5vbm9wZW4gPSBvbk9wZW5cbiAgd3Mub25jbG9zZSA9IG9uQ2xvc2VcbiAgd3Mub25lcnJvciA9IG9uRXJyb3JcblxuICByZXR1cm4ge1xuICAgIHJlbW90ZUNsaWVudENvbm5lY3RlZCQ6IHdhaXRGb3JSZW1vdGVDbGllbnQocmVtb3RlQ2xpZW50Q29ubmVjdGVkKSxcbiAgICByZW1vdGVDbGllbnREaXNjb25uZWN0ZWQkOiB3YWl0Rm9yUmVtb3RlQ2xpZW50KHJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZCksXG4gICAgc2VuZE1lc3NhZ2U6IChtZXNzYWdlOiBQaWNrPERhdGFUeXBlcywgJ3BheWxvYWQnIHwgJ21ldGhvZCcgfCAnc291cmNlJz4pID0+XG4gICAgICBjb25maWcuc2lnbmFsaW5nU2VydmVyLnVzZVRhcmdldENsaWVudElkXG4gICAgICAgID8gc3ViamVjdHMudGFyZ2V0Q2xpZW50SWRTdWJqZWN0LnBpcGUoXG4gICAgICAgICAgICBmaWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgICBmaXJzdCgpLFxuICAgICAgICAgICAgc3dpdGNoTWFwKCh0YXJnZXRDbGllbnRJZCkgPT5cbiAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UoeyAuLi5tZXNzYWdlLCB0YXJnZXRDbGllbnRJZCB9KSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKVxuICAgICAgICA6IHNlbmRNZXNzYWdlKHsgLi4ubWVzc2FnZSwgdGFyZ2V0Q2xpZW50SWQ6ICcnIH0pLFxuICAgIHN0YXR1cyQ6IHN1YmplY3RzLnN0YXR1c1N1YmplY3QuYXNPYnNlcnZhYmxlKCksXG4gICAgb25FcnJvciQ6IHN1YmplY3RzLm9uRXJyb3JTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLFxuICAgIG9uQ29ubmVjdCQ6IHN1YmplY3RzLnN0YXR1c1N1YmplY3QucGlwZShcbiAgICAgIGZpbHRlcigoc3RhdHVzKSA9PiBzdGF0dXMgPT09ICdjb25uZWN0ZWQnKSxcbiAgICApLFxuICAgIG9uRGlzY29ubmVjdCQ6IHN1YmplY3RzLnN0YXR1c1N1YmplY3QucGlwZShcbiAgICAgIGZpbHRlcigoc3RhdHVzKSA9PiBzdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnKSxcbiAgICApLFxuICAgIG9uT2ZmZXIkLFxuICAgIG9uQW5zd2VyJCxcbiAgICBvbkljZUNhbmRpZGF0ZSQsXG4gICAgc3ViamVjdHMsXG4gICAgZGlzY29ubmVjdDogKCkgPT4ge1xuICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgd3MuY2xvc2UoKVxuICAgICAgfVxuICAgIH0sXG4gICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcbiAgICAgIHdzLmNsb3NlKClcbiAgICAgIHdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpXG4gICAgICB3cy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uQ2xvc2UpXG4gICAgICB3cy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpXG4gICAgICB3cy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgb25PcGVuKVxuICAgICAgbG9nZ2VyPy5kZWJ1Zyhg8J+bsPCfp7kgZGVzdHJveWluZyBzaWduYWxpbmcgaW5zdGFuY2VgKVxuICAgIH0sXG4gIH1cbn1cbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcidcbmNvbnN0IGhhc0FycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nXG5jb25zdCB7IHRvU3RyaW5nIH0gPSBPYmplY3QucHJvdG90eXBlXG5cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsdWU6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBoYXNBcnJheUJ1ZmZlciAmJlxuICAgICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8XG4gICAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJylcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgdG9CdWZmZXIgPSAoaW5wdXQ6IEJ1ZmZlciB8IHN0cmluZyB8IEFycmF5QnVmZmVyKTogQnVmZmVyID0+IHtcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQsICd1dGYtOCcpXG4gIH0gZWxzZSBpZiAoaXNBcnJheUJ1ZmZlcihpbnB1dCkpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGlucHV0IGFzIEJ1ZmZlclxuICB9XG59XG4iLCJpbXBvcnQgeyBDaHVua2VkIH0gZnJvbSAnY29ubmVjdG9yL2hlbHBlcnMnXG5pbXBvcnQge1xuICBDaHVua2VkTWVzc2FnZVR5cGUsXG4gIE1lc3NhZ2UsXG4gIE1lc3NhZ2VDaHVuayxcbiAgTWV0YURhdGEsXG59IGZyb20gJ2Nvbm5lY3Rvci9fdHlwZXMnXG5pbXBvcnQgeyBleGhhdXN0TWFwLCBmaWx0ZXIsIGZpcnN0LCBtZXJnZU1hcCwgU3ViamVjdCwgdGFwIH0gZnJvbSAncnhqcydcbmltcG9ydCB7IHBhcnNlSlNPTiB9IGZyb20gJ3V0aWxzJ1xuXG5jb25zdCB3YWl0Rm9yTWV0YURhdGEgPSAoXG4gIG9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdDogU3ViamVjdDxDaHVua2VkTWVzc2FnZVR5cGU+LFxuKSA9PlxuICBvbkRhdGFDaGFubmVsTWVzc2FnZVN1YmplY3QucGlwZShcbiAgICBmaWx0ZXIoXG4gICAgICAobWVzc2FnZSk6IG1lc3NhZ2UgaXMgTWV0YURhdGEgPT4gbWVzc2FnZS5wYWNrYWdlVHlwZSA9PT0gJ21ldGFEYXRhJyxcbiAgICApLFxuICApXG5cbmNvbnN0IHdhaXRGb3JNZXNzYWdlQ2h1Y2sgPSAoXG4gIG9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdDogU3ViamVjdDxDaHVua2VkTWVzc2FnZVR5cGU+LFxuICBtZXNzYWdlSWQ6IHN0cmluZyxcbikgPT5cbiAgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0LnBpcGUoXG4gICAgZmlsdGVyKFxuICAgICAgKG1lc3NhZ2UpOiBtZXNzYWdlIGlzIE1lc3NhZ2VDaHVuayA9PlxuICAgICAgICBtZXNzYWdlLnBhY2thZ2VUeXBlID09PSAnY2h1bmsnICYmIG1lc3NhZ2UubWVzc2FnZUlkID09PSBtZXNzYWdlSWQsXG4gICAgKSxcbiAgKVxuXG5leHBvcnQgY29uc3QgaGFuZGxlSW5jb21pbmdDaHVua2VkTWVzc2FnZXMgPSAoXG4gIG9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdDogU3ViamVjdDxDaHVua2VkTWVzc2FnZVR5cGU+LFxuKSA9PlxuICB3YWl0Rm9yTWV0YURhdGEob25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0KS5waXBlKFxuICAgIGV4aGF1c3RNYXAoKG1ldGFkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjaHVua2VkID0gQ2h1bmtlZChtZXRhZGF0YSlcbiAgICAgIGNvbnN0IG1lc3NhZ2VDaHVuayQgPSB3YWl0Rm9yTWVzc2FnZUNodWNrKFxuICAgICAgICBvbkRhdGFDaGFubmVsTWVzc2FnZVN1YmplY3QsXG4gICAgICAgIG1ldGFkYXRhLm1lc3NhZ2VJZCxcbiAgICAgIClcbiAgICAgIHJldHVybiBtZXNzYWdlQ2h1bmskLnBpcGUoXG4gICAgICAgIHRhcCgoY2h1bmspID0+IGNodW5rZWQuYWRkQ2h1bmsoY2h1bmspKSxcbiAgICAgICAgZmlsdGVyKCgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaHVua2VkLmFsbENodW5rc1JlY2VpdmVkKClcbiAgICAgICAgICBpZiAocmVzdWx0LmlzRXJyKCkpIHJldHVybiB0cnVlXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZVxuICAgICAgICB9KSxcbiAgICAgICAgZmlyc3QoKSxcbiAgICAgICAgbWVyZ2VNYXAoKCkgPT5cbiAgICAgICAgICBjaHVua2VkXG4gICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgLmFuZFRoZW4ocGFyc2VKU09OPE1lc3NhZ2U+KVxuICAgICAgICAgICAgLm1hcCgobWVzc2FnZSkgPT4gKHsgbWVzc2FnZUlkOiBtZXRhZGF0YS5tZXNzYWdlSWQsIG1lc3NhZ2UgfSkpXG4gICAgICAgICAgICAubWFwRXJyKCgpID0+IG1ldGFkYXRhLm1lc3NhZ2VJZCksXG4gICAgICAgICksXG4gICAgICApXG4gICAgfSksXG4gIClcbiIsImltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiwgdGFwIH0gZnJvbSAncnhqcydcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ3RzbG9nJ1xuaW1wb3J0IHsgcGFyc2VKU09OIH0gZnJvbSAndXRpbHMnXG5pbXBvcnQgeyB0b0J1ZmZlciB9IGZyb20gJ3V0aWxzL3RvLWJ1ZmZlcidcbmltcG9ydCB7IFdlYlJ0Y1N1YmplY3RzVHlwZSB9IGZyb20gJy4vc3ViamVjdHMnXG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tICd1dGlscy9zdHJpbmdpZnknXG5pbXBvcnQgeyBoYW5kbGVJbmNvbWluZ0NodW5rZWRNZXNzYWdlcyB9IGZyb20gJy4vaGVscGVycy9oYW5kbGUtaW5jb21pbmctY2h1bmtlZC1tZXNzYWdlcydcbmltcG9ydCB7IENodW5rZWRNZXNzYWdlVHlwZSwgTWVzc2FnZSB9IGZyb20gJ2Nvbm5lY3Rvci9fdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBEYXRhQ2hhbm5lbENsaWVudCA9IChpbnB1dDoge1xuICBkYXRhQ2hhbm5lbDogUlRDRGF0YUNoYW5uZWxcbiAgbG9nZ2VyPzogTG9nZ2VyPHVua25vd24+XG4gIHN1YmplY3RzOiBXZWJSdGNTdWJqZWN0c1R5cGVcbiAgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0OiBTdWJqZWN0PENodW5rZWRNZXNzYWdlVHlwZT5cbiAgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxTdWJqZWN0OiBTdWJqZWN0PHN0cmluZz5cbiAgb25NZXNzYWdlOiBTdWJqZWN0PE1lc3NhZ2U+XG59KSA9PiB7XG4gIGNvbnN0IGxvZ2dlciA9IGlucHV0LmxvZ2dlclxuICBjb25zdCBkYXRhQ2hhbm5lbCA9IGlucHV0LmRhdGFDaGFubmVsXG4gIGNvbnN0IHN1YmplY3RzID0gaW5wdXQuc3ViamVjdHNcblxuICBjb25zdCBvbkRhdGFDaGFubmVsT3BlbiA9ICgpID0+IHtcbiAgICBsb2dnZXI/LmRlYnVnKGDwn5W48J+foiBkYXRhIGNoYW5uZWwgb3BlbmApXG4gICAgc3ViamVjdHMuZGF0YUNoYW5uZWxTdGF0dXNTdWJqZWN0Lm5leHQoJ29wZW4nKVxuICB9XG5cbiAgY29uc3Qgb25EYXRhQ2hhbm5lbENsb3NlID0gKCkgPT4ge1xuICAgIGxvZ2dlcj8uZGVidWcoYPCflbjwn5S0IGRhdGEgY2hhbm5lbCBjbG9zZWRgKVxuICAgIHN1YmplY3RzLmRhdGFDaGFubmVsU3RhdHVzU3ViamVjdC5uZXh0KCdjbG9zZWQnKVxuICB9XG5cbiAgY29uc3Qgb25EYXRhQ2hhbm5lbE1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudDxBcnJheUJ1ZmZlciB8IHN0cmluZz4pID0+IHtcbiAgICAvLyB3ZWJSVEMgY2xpZW50cyBhcmUgc2VuZGluZyBkYXRhIGluIGRpZmZlcmVudCBmb3JtYXRzXG4gICAgcGFyc2VKU09OPENodW5rZWRNZXNzYWdlVHlwZT4odG9CdWZmZXIoZXZlbnQuZGF0YSkudG9TdHJpbmcoJ3V0Zi04JykpXG4gICAgICAubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICAgIGxvZ2dlcj8uZGVidWcoYPCflbjwn5Ks4qyH77iPIHJlY2VpdmVkIGRhdGEgY2hhbm5lbCBtZXNzYWdlYCwgbWVzc2FnZSlcbiAgICAgICAgcmV0dXJuIGlucHV0Lm9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdC5uZXh0KG1lc3NhZ2UpXG4gICAgICB9KVxuICAgICAgLm1hcEVycigoZXJyKSA9PiB7XG4gICAgICAgIGxvZ2dlcj8uZGVidWcoYPCflbjwn5Ks4qyH77iPIHJlY2VpdmVkIGRhdGEgY2hhbm5lbCBtZXNzYWdlYCwgZXJyKVxuICAgICAgfSlcbiAgfVxuXG4gIGNvbnN0IG9uRGF0YUNoYW5uZWxFcnJvciA9ICgpID0+IHtcbiAgICBsb2dnZXI/LmRlYnVnKGDwn5W44p2MIGRhdGEgY2hhbm5lbCBlcnJvcmApXG4gIH1cblxuICBkYXRhQ2hhbm5lbC5vbm9wZW4gPSBvbkRhdGFDaGFubmVsT3BlblxuICBkYXRhQ2hhbm5lbC5vbmNsb3NlID0gb25EYXRhQ2hhbm5lbENsb3NlXG4gIGRhdGFDaGFubmVsLm9ubWVzc2FnZSA9IG9uRGF0YUNoYW5uZWxNZXNzYWdlXG4gIGRhdGFDaGFubmVsLm9uZXJyb3IgPSBvbkRhdGFDaGFubmVsRXJyb3JcblxuICBjb25zdCBzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbCA9IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBsb2dnZXI/LmRlYnVnKGDwn5W48J+SrOKshu+4jyBzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbGAsIG1lc3NhZ2UpXG4gICAgZGF0YUNoYW5uZWwuc2VuZChtZXNzYWdlKVxuICB9XG5cbiAgY29uc3Qgc2VuZENvbmZpcm1hdGlvbk1lc3NhZ2UgPSAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgICBzdHJpbmdpZnkoe1xuICAgICAgcGFja2FnZVR5cGU6ICdyZWNlaXZlTWVzc2FnZUNvbmZpcm1hdGlvbicsXG4gICAgICBtZXNzYWdlSWQsXG4gICAgfSkubWFwKHNlbmRNZXNzYWdlT3ZlckRhdGFDaGFubmVsKVxuICB9XG5cbiAgY29uc3Qgc2VuZEVycm9yTWVzc2FnZSA9IChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICAgIHN0cmluZ2lmeSh7XG4gICAgICBwYWNrYWdlVHlwZTogJ3JlY2VpdmVNZXNzYWdlRXJyb3InLFxuICAgICAgbWVzc2FnZUlkLFxuICAgICAgZXJyb3I6ICdtZXNzYWdlSGFzaGVzTWlzbWF0Y2gnLFxuICAgIH0pLm1hcChzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbClcbiAgfVxuXG4gIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICBpbnB1dC5zZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbFN1YmplY3RcbiAgICAgIC5waXBlKHRhcChzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbCkpXG4gICAgICAuc3Vic2NyaWJlKCksXG4gIClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICBoYW5kbGVJbmNvbWluZ0NodW5rZWRNZXNzYWdlcyhpbnB1dC5vbkRhdGFDaGFubmVsTWVzc2FnZVN1YmplY3QpXG4gICAgICAucGlwZShcbiAgICAgICAgdGFwKChyZXN1bHQpID0+XG4gICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAubWFwKCh7IG1lc3NhZ2VJZCwgbWVzc2FnZSB9KSA9PiB7XG4gICAgICAgICAgICAgIHNlbmRDb25maXJtYXRpb25NZXNzYWdlKG1lc3NhZ2VJZClcbiAgICAgICAgICAgICAgaW5wdXQub25NZXNzYWdlLm5leHQobWVzc2FnZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwRXJyKHNlbmRFcnJvck1lc3NhZ2UpLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpLFxuICApXG5cbiAgcmV0dXJuIHtcbiAgICBzdWJqZWN0cyxcbiAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICBkYXRhQ2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25EYXRhQ2hhbm5lbE1lc3NhZ2UpXG4gICAgICBkYXRhQ2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgb25EYXRhQ2hhbm5lbE9wZW4pXG4gICAgICBkYXRhQ2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uRGF0YUNoYW5uZWxDbG9zZSlcbiAgICAgIHN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKVxuICAgIH0sXG4gIH1cbn1cbiIsImltcG9ydCB7IEljZUNhbmRpZGF0ZSwgTWVzc2FnZVNvdXJjZXMgfSBmcm9tICdpby10eXBlcy90eXBlcydcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ3RzbG9nJ1xuaW1wb3J0IHtcbiAgY29uY2F0TWFwLFxuICBmaWx0ZXIsXG4gIGZpcnN0LFxuICBtYXAsXG4gIG1lcmdlLFxuICBtZXJnZU1hcCxcbiAgc2NhbixcbiAgU3Vic2NyaXB0aW9uLFxuICB0YXAsXG59IGZyb20gJ3J4anMnXG5pbXBvcnQgeyBXZWJSdGNTdWJqZWN0c1R5cGUgfSBmcm9tICcuL3N1YmplY3RzJ1xuaW1wb3J0IHsgUmVzdWx0QXN5bmMgfSBmcm9tICduZXZlcnRocm93J1xuaW1wb3J0IHsgZXJyb3JJZGVudGl0eSB9IGZyb20gJ3V0aWxzL2Vycm9yLWlkZW50aXR5J1xuaW1wb3J0IHsgSWNlQ2FuZGlkYXRlTWVzc2FnZSB9IGZyb20gJ2Nvbm5lY3Rvci9fdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBjYWNoZVJlbW90ZUljZUNhbmRpZGF0ZXMgPSAoc3ViamVjdHM6IFdlYlJ0Y1N1YmplY3RzVHlwZSkgPT5cbiAgc3ViamVjdHMub25SZW1vdGVJY2VDYW5kaWRhdGVTdWJqZWN0LnBpcGUoXG4gICAgc2NhbigoYWNjLCBjdXJyKSA9PiBbLi4uYWNjLCBjdXJyXSwgW10gYXMgUlRDSWNlQ2FuZGlkYXRlW10pLFxuICAgIHRhcCgoaWNlQ2FuZGlkYXRlcykgPT5cbiAgICAgIHN1YmplY3RzLnJlbW90ZUljZUNhbmRpZGF0ZXNTdWJqZWN0Lm5leHQoaWNlQ2FuZGlkYXRlcyksXG4gICAgKSxcbiAgKVxuXG5leHBvcnQgY29uc3QgSWNlQ2FuZGlkYXRlQ2xpZW50ID0gKGlucHV0OiB7XG4gIHN1YmplY3RzOiBXZWJSdGNTdWJqZWN0c1R5cGVcbiAgcGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uXG4gIHNvdXJjZTogTWVzc2FnZVNvdXJjZXNcbiAgbG9nZ2VyPzogTG9nZ2VyPHVua25vd24+XG59KSA9PiB7XG4gIGNvbnN0IHN1YmplY3RzID0gaW5wdXQuc3ViamVjdHNcbiAgY29uc3QgcGVlckNvbm5lY3Rpb24gPSBpbnB1dC5wZWVyQ29ubmVjdGlvblxuICBjb25zdCBsb2dnZXIgPSBpbnB1dC5sb2dnZXJcblxuICBjb25zdCBvbkljZWNhbmRpZGF0ZSA9IChldmVudDogUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHN1YmplY3RzLm9uSWNlQ2FuZGlkYXRlU3ViamVjdC5uZXh0KGV2ZW50LmNhbmRpZGF0ZSlcbiAgfVxuICBjb25zdCBvbkljZWNvbm5lY3Rpb25TdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICBsb2dnZXI/LmRlYnVnKFxuICAgICAgYPCflbjwn6eKIGljZUNvbm5lY3Rpb25TdGF0ZTogJHtwZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9YCxcbiAgICApXG4gICAgc3ViamVjdHMuaWNlQ29ubmVjdGlvblN0YXRlU3ViamVjdC5uZXh0KHBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSlcbiAgfVxuXG4gIHBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlID0gb25JY2VjYW5kaWRhdGVcbiAgcGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBvbkljZWNvbm5lY3Rpb25TdGF0ZUNoYW5nZVxuXG4gIGNvbnN0IGFkZEljZUNhbmRpZGF0ZSA9IChpY2VDYW5kaWRhdGU6IFJUQ0ljZUNhbmRpZGF0ZSkgPT5cbiAgICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShcbiAgICAgIHBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShpY2VDYW5kaWRhdGUpLFxuICAgICAgZXJyb3JJZGVudGl0eSxcbiAgICApXG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKVxuXG4gIGNvbnN0IGljZUNhbmRpZGF0ZSQgPSBzdWJqZWN0cy5vbkljZUNhbmRpZGF0ZVN1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShcbiAgICBtYXAoKHsgY2FuZGlkYXRlLCBzZHBNaWQsIHNkcE1MaW5lSW5kZXggfSkgPT4gKHtcbiAgICAgIGNhbmRpZGF0ZSxcbiAgICAgIHNkcE1pZCxcbiAgICAgIHNkcE1MaW5lSW5kZXgsXG4gICAgfSkpLFxuICAgIGZpbHRlcihcbiAgICAgIChpY2VDYW5kaWRhdGUpOiBpY2VDYW5kaWRhdGUgaXMgSWNlQ2FuZGlkYXRlWydwYXlsb2FkJ10gPT5cbiAgICAgICAgISFpY2VDYW5kaWRhdGUuY2FuZGlkYXRlLFxuICAgICksXG4gICAgbWFwKFxuICAgICAgKHBheWxvYWQpOiBJY2VDYW5kaWRhdGVNZXNzYWdlID0+ICh7XG4gICAgICAgIG1ldGhvZDogJ2ljZUNhbmRpZGF0ZScgYXMgSWNlQ2FuZGlkYXRlWydtZXRob2QnXSxcbiAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgc291cmNlOiBpbnB1dC5zb3VyY2UsXG4gICAgICB9KSxcbiAgICApLFxuICApXG5cbiAgY29uc3QgaGF2ZUxvY2FsT2ZmZXIkID0gc3ViamVjdHMub25TaWduYWxpbmdTdGF0ZUNoYW5nZVN1YmplY3QucGlwZShcbiAgICBmaWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gJ2hhdmUtbG9jYWwtb2ZmZXInKSxcbiAgKVxuXG4gIGNvbnN0IGhhdmVSZW1vdGVPZmZlciQgPSBzdWJqZWN0cy5vblNpZ25hbGluZ1N0YXRlQ2hhbmdlU3ViamVjdC5waXBlKFxuICAgIGZpbHRlcigodmFsdWUpID0+IHZhbHVlID09PSAnaGF2ZS1yZW1vdGUtb2ZmZXInKSxcbiAgKVxuICBjb25zdCB3YWl0Rm9yUmVtb3RlRGVzY3JpcHRpb24kID0gbWVyZ2UoXG4gICAgaGF2ZUxvY2FsT2ZmZXIkLFxuICAgIGhhdmVSZW1vdGVPZmZlciQsXG4gICAgc3ViamVjdHMub25SZW1vdGVBbnN3ZXJTdWJqZWN0LFxuICApXG5cbiAgY29uc3Qgb25SZW1vdGVJY2VDYW5kaWRhdGUkID0gbWVyZ2UoXG4gICAgc3ViamVjdHMucmVtb3RlSWNlQ2FuZGlkYXRlc1N1YmplY3QucGlwZShcbiAgICAgIGZpcnN0KCksXG4gICAgICBtZXJnZU1hcCgoaWNlQ2FuZGlkYXRlcykgPT4gaWNlQ2FuZGlkYXRlcyksXG4gICAgKSxcbiAgICBzdWJqZWN0cy5vblJlbW90ZUljZUNhbmRpZGF0ZVN1YmplY3QsXG4gIClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICBzdWJqZWN0cy5vblJlbW90ZUljZUNhbmRpZGF0ZVN1YmplY3RcbiAgICAgIC5waXBlKFxuICAgICAgICBzY2FuKChhY2MsIGN1cnIpID0+IFsuLi5hY2MsIGN1cnJdLCBbXSBhcyBSVENJY2VDYW5kaWRhdGVbXSksXG4gICAgICAgIHRhcCgoaWNlQ2FuZGlkYXRlcykgPT5cbiAgICAgICAgICBzdWJqZWN0cy5yZW1vdGVJY2VDYW5kaWRhdGVzU3ViamVjdC5uZXh0KGljZUNhbmRpZGF0ZXMpLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpLFxuICApXG5cbiAgc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgd2FpdEZvclJlbW90ZURlc2NyaXB0aW9uJFxuICAgICAgLnBpcGUoXG4gICAgICAgIG1lcmdlTWFwKCgpID0+IG9uUmVtb3RlSWNlQ2FuZGlkYXRlJCksXG4gICAgICAgIGNvbmNhdE1hcChhZGRJY2VDYW5kaWRhdGUpLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpLFxuICApXG5cbiAgcmV0dXJuIHtcbiAgICBpY2VDYW5kaWRhdGUkLFxuICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIG9uSWNlY2FuZGlkYXRlKVxuICAgICAgcGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsXG4gICAgICAgIG9uSWNlY29ubmVjdGlvblN0YXRlQ2hhbmdlLFxuICAgICAgKVxuICAgICAgc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpXG4gICAgfSxcbiAgfVxufVxuIiwiaW1wb3J0IHsgU2lnbmFsaW5nQ2xpZW50VHlwZSB9IGZyb20gJ2Nvbm5lY3Rvci9zaWduYWxpbmcvc2lnbmFsaW5nLWNsaWVudCdcbmltcG9ydCB7IEFuc3dlciwgTWVzc2FnZVNvdXJjZXMsIE9mZmVyIH0gZnJvbSAnaW8tdHlwZXMvdHlwZXMnXG5pbXBvcnQgeyBSZXN1bHRBc3luYyB9IGZyb20gJ25ldmVydGhyb3cnXG5pbXBvcnQgeyBtZXJnZU1hcCwgU3Vic2NyaXB0aW9uLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzJ1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAndHNsb2cnXG5pbXBvcnQgeyBlcnJvcklkZW50aXR5IH0gZnJvbSAndXRpbHMvZXJyb3ItaWRlbnRpdHknXG5pbXBvcnQgeyBXZWJSdGNTdWJqZWN0c1R5cGUgfSBmcm9tICcuL3N1YmplY3RzJ1xuXG5leHBvcnQgY29uc3QgUGVlckNvbm5lY3Rpb25DbGllbnQgPSAoaW5wdXQ6IHtcbiAgc3ViamVjdHM6IFdlYlJ0Y1N1YmplY3RzVHlwZVxuICBwZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb25cbiAgbG9nZ2VyPzogTG9nZ2VyPHVua25vd24+XG4gIHNob3VsZENyZWF0ZU9mZmVyOiBib29sZWFuXG4gIHNvdXJjZTogTWVzc2FnZVNvdXJjZXNcbiAgc2lnbmFsaW5nQ2xpZW50OiBTaWduYWxpbmdDbGllbnRUeXBlXG4gIHJlc3RhcnQ6ICgpID0+IHZvaWRcbn0pID0+IHtcbiAgY29uc3QgcGVlckNvbm5lY3Rpb24gPSBpbnB1dC5wZWVyQ29ubmVjdGlvblxuICBjb25zdCBzdWJqZWN0cyA9IGlucHV0LnN1YmplY3RzXG4gIGNvbnN0IGxvZ2dlciA9IGlucHV0LmxvZ2dlclxuICBjb25zdCBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpXG5cbiAgY29uc3Qgc2lnbmFsaW5nQ2xpZW50ID0gaW5wdXQuc2lnbmFsaW5nQ2xpZW50XG4gIGNvbnN0IG9uUmVtb3RlT2ZmZXIkID0gc2lnbmFsaW5nQ2xpZW50Lm9uT2ZmZXIkXG4gIGNvbnN0IG9uUmVtb3RlQW5zd2VyJCA9IHNpZ25hbGluZ0NsaWVudC5vbkFuc3dlciRcblxuICBjb25zdCBvbk5lZ290aWF0aW9uTmVlZGVkID0gKCkgPT4ge1xuICAgIGlmIChpbnB1dC5zaG91bGRDcmVhdGVPZmZlcilcbiAgICAgIHN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgICBzaWduYWxpbmdDbGllbnQucmVtb3RlQ2xpZW50Q29ubmVjdGVkJFxuICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+XG4gICAgICAgICAgICAgIGNyZWF0ZU9mZmVyKClcbiAgICAgICAgICAgICAgICAuYW5kVGhlbihzZXRMb2NhbERlc2NyaXB0aW9uKVxuICAgICAgICAgICAgICAgIC5tYXAoKCkgPT4gcGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbiEpXG4gICAgICAgICAgICAgICAgLm1hcCgoeyBzZHAgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ29mZmVyJyBhcyBPZmZlclsnbWV0aG9kJ10sXG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHNkcCB9LFxuICAgICAgICAgICAgICAgICAgc291cmNlOiBpbnB1dC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLm1hcCgob2ZmZXIpID0+IHN1YmplY3RzLm9mZmVyU3ViamVjdC5uZXh0KG9mZmVyKSksXG4gICAgICAgICAgICApLFxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKCksXG4gICAgICApXG4gIH1cblxuICBjb25zdCBvblNpZ25hbGluZ1N0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGxvZ2dlcj8uZGVidWcoYPCflbjwn4+bIHNpZ25hbGluZ1N0YXRlOiAke3BlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlfWApXG4gICAgc3ViamVjdHMub25TaWduYWxpbmdTdGF0ZUNoYW5nZVN1YmplY3QubmV4dChwZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSlcbiAgfVxuXG4gIHBlZXJDb25uZWN0aW9uLm9ubmVnb3RpYXRpb25uZWVkZWQgPSBvbk5lZ290aWF0aW9uTmVlZGVkXG4gIHBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgPSBvblNpZ25hbGluZ1N0YXRlQ2hhbmdlXG5cbiAgY29uc3Qgc2V0TG9jYWxEZXNjcmlwdGlvbiA9IChkZXNjcmlwdGlvbjogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCkgPT5cbiAgICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShcbiAgICAgIHBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pLFxuICAgICAgZXJyb3JJZGVudGl0eSxcbiAgICApLm1hcCgoKSA9PiBwZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uISlcblxuICBjb25zdCBzZXRSZW1vdGVEZXNjcmlwdGlvbiA9IChkZXNjcmlwdGlvbjogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCkgPT5cbiAgICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShcbiAgICAgIHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSxcbiAgICAgIGVycm9ySWRlbnRpdHksXG4gICAgKVxuXG4gIGNvbnN0IGNyZWF0ZUFuc3dlciA9ICgpID0+XG4gICAgUmVzdWx0QXN5bmMuZnJvbVByb21pc2UocGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCksIGVycm9ySWRlbnRpdHkpXG5cbiAgY29uc3QgY3JlYXRlT2ZmZXIgPSAoKSA9PlxuICAgIFJlc3VsdEFzeW5jLmZyb21Qcm9taXNlKHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksIGVycm9ySWRlbnRpdHkpXG5cbiAgc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgb25SZW1vdGVPZmZlciRcbiAgICAgIC5waXBlKFxuICAgICAgICBzd2l0Y2hNYXAoKG9mZmVyKSA9PlxuICAgICAgICAgIHNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKVxuICAgICAgICAgICAgLmFuZFRoZW4oY3JlYXRlQW5zd2VyKVxuICAgICAgICAgICAgLmFuZFRoZW4oc2V0TG9jYWxEZXNjcmlwdGlvbilcbiAgICAgICAgICAgIC5tYXAoKHsgc2RwIH0pID0+ICh7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ2Fuc3dlcicgYXMgQW5zd2VyWydtZXRob2QnXSxcbiAgICAgICAgICAgICAgcGF5bG9hZDogeyBzZHAgfSxcbiAgICAgICAgICAgICAgc291cmNlOiBpbnB1dC5zb3VyY2UsXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIC5tYXAoKGFuc3dlcikgPT4gc3ViamVjdHMuYW5zd2VyU3ViamVjdC5uZXh0KGFuc3dlcikpLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpLFxuICApXG5cbiAgc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgb25SZW1vdGVBbnN3ZXIkLnBpcGUobWVyZ2VNYXAoc2V0UmVtb3RlRGVzY3JpcHRpb24pKS5zdWJzY3JpYmUoKSxcbiAgKVxuXG4gIHJldHVybiB7XG4gICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgcGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJyxcbiAgICAgICAgb25TaWduYWxpbmdTdGF0ZUNoYW5nZSxcbiAgICAgIClcbiAgICAgIHBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdvbm5lZ290aWF0aW9ubmVlZGVkJyxcbiAgICAgICAgb25OZWdvdGlhdGlvbk5lZWRlZCxcbiAgICAgIClcbiAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKClcbiAgICAgIHN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKVxuICAgIH0sXG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2NvbmZpZydcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ3RzbG9nJ1xuaW1wb3J0IHsgRGF0YUNoYW5uZWxDbGllbnQgfSBmcm9tICcuL2RhdGEtY2hhbm5lbC1jbGllbnQnXG5pbXBvcnQgeyBXZWJSdGNTdWJqZWN0c1R5cGUgfSBmcm9tICcuL3N1YmplY3RzJ1xuaW1wb3J0IHsgSWNlQ2FuZGlkYXRlQ2xpZW50IH0gZnJvbSAnLi9pY2UtY2FuZGlkYXRlLWNsaWVudCdcbmltcG9ydCB7IFBlZXJDb25uZWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9wZWVyLWNvbm5lY3Rpb24tY2xpZW50J1xuaW1wb3J0IHtcbiAgY29tYmluZUxhdGVzdCxcbiAgY29uY2F0TWFwLFxuICBmaWx0ZXIsXG4gIGZpcnN0LFxuICBtZXJnZSxcbiAgbWVyZ2VNYXAsXG4gIFN1YmplY3QsXG4gIFN1YnNjcmlwdGlvbixcbiAgc3dpdGNoTWFwLFxuICB0YXAsXG4gIHRpbWVyLFxufSBmcm9tICdyeGpzJ1xuaW1wb3J0IHsgQ2h1bmtlZE1lc3NhZ2VUeXBlLCBNZXNzYWdlIH0gZnJvbSAnY29ubmVjdG9yL190eXBlcydcbmltcG9ydCB7IFNpZ25hbGluZ0NsaWVudFR5cGUgfSBmcm9tICdjb25uZWN0b3Ivc2lnbmFsaW5nL3NpZ25hbGluZy1jbGllbnQnXG5pbXBvcnQgeyBNZXNzYWdlU291cmNlcyB9IGZyb20gJ2lvLXR5cGVzL3R5cGVzJ1xuXG5leHBvcnQgdHlwZSBXZWJSdGNDbGllbnQgPSBSZXR1cm5UeXBlPHR5cGVvZiBXZWJSdGNDbGllbnQ+XG5cbmV4cG9ydCBjb25zdCBXZWJSdGNDbGllbnQgPSAoXG4gIGlucHV0OiAodHlwZW9mIGNvbmZpZylbJ3dlYlJUQyddICYge1xuICAgIHNob3VsZENyZWF0ZU9mZmVyOiBib29sZWFuXG4gICAgbG9nZ2VyPzogTG9nZ2VyPHVua25vd24+XG4gICAgc3ViamVjdHM6IFdlYlJ0Y1N1YmplY3RzVHlwZVxuICAgIG9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdDogU3ViamVjdDxDaHVua2VkTWVzc2FnZVR5cGU+XG4gICAgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxTdWJqZWN0OiBTdWJqZWN0PHN0cmluZz5cbiAgICBvbk1lc3NhZ2U6IFN1YmplY3Q8TWVzc2FnZT5cbiAgICBzaWduYWxpbmdDbGllbnQ6IFNpZ25hbGluZ0NsaWVudFR5cGVcbiAgICBzb3VyY2U6IE1lc3NhZ2VTb3VyY2VzXG4gICAgcmVzdGFydDogKCkgPT4gdm9pZFxuICB9LFxuKSA9PiB7XG4gIGNvbnN0IGxvZ2dlciA9IGlucHV0LmxvZ2dlclxuICBjb25zdCBzdWJqZWN0cyA9IGlucHV0LnN1YmplY3RzXG4gIGNvbnN0IHJlc3RhcnQgPSBpbnB1dC5yZXN0YXJ0XG4gIGNvbnN0IHNpZ25hbGluZ0NsaWVudCA9IGlucHV0LnNpZ25hbGluZ0NsaWVudFxuXG4gIGNvbnN0IHBlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihcbiAgICBpbnB1dC5wZWVyQ29ubmVjdGlvbkNvbmZpZyxcbiAgKVxuXG4gIGNvbnN0IGRhdGFDaGFubmVsID0gcGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoXG4gICAgJ2RhdGEnLFxuICAgIGlucHV0LmRhdGFDaGFubmVsQ29uZmlnLFxuICApXG5cbiAgY29uc3QgcGVlckNvbm5lY3Rpb25DbGllbnQgPSBQZWVyQ29ubmVjdGlvbkNsaWVudCh7XG4gICAgcGVlckNvbm5lY3Rpb24sXG4gICAgc3ViamVjdHMsXG4gICAgbG9nZ2VyLFxuICAgIHNob3VsZENyZWF0ZU9mZmVyOiBpbnB1dC5zaG91bGRDcmVhdGVPZmZlcixcbiAgICBzb3VyY2U6IGlucHV0LnNvdXJjZSxcbiAgICBzaWduYWxpbmdDbGllbnQ6IGlucHV0LnNpZ25hbGluZ0NsaWVudCxcbiAgICByZXN0YXJ0OiBpbnB1dC5yZXN0YXJ0LFxuICB9KVxuXG4gIGNvbnN0IGRhdGFDaGFubmVsQ2xpZW50ID0gRGF0YUNoYW5uZWxDbGllbnQoe1xuICAgIGRhdGFDaGFubmVsLFxuICAgIGxvZ2dlcixcbiAgICBzdWJqZWN0cyxcbiAgICBvbkRhdGFDaGFubmVsTWVzc2FnZVN1YmplY3Q6IGlucHV0Lm9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdCxcbiAgICBvbk1lc3NhZ2U6IGlucHV0Lm9uTWVzc2FnZSxcbiAgICBzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbFN1YmplY3Q6IGlucHV0LnNlbmRNZXNzYWdlT3ZlckRhdGFDaGFubmVsU3ViamVjdCxcbiAgfSlcblxuICBjb25zdCBpY2VDYW5kaWRhdGVDbGllbnQgPSBJY2VDYW5kaWRhdGVDbGllbnQoe1xuICAgIGxvZ2dlcixcbiAgICBzdWJqZWN0cyxcbiAgICBwZWVyQ29ubmVjdGlvbixcbiAgICBzb3VyY2U6IGlucHV0LnNvdXJjZSxcbiAgfSlcblxuICBjb25zdCBvblJlbW90ZUljZUNhbmRpZGF0ZSQgPSBpbnB1dC5zaWduYWxpbmdDbGllbnQub25JY2VDYW5kaWRhdGUkXG4gIGNvbnN0IG9uTG9jYWxJY2VDYW5kaWRhdGUkID0gaWNlQ2FuZGlkYXRlQ2xpZW50LmljZUNhbmRpZGF0ZSRcbiAgY29uc3Qgb25Mb2NhbE9mZmVyJCA9IHN1YmplY3RzLm9mZmVyU3ViamVjdFxuICBjb25zdCBvbkxvY2FsQW5zd2VyJCA9IHN1YmplY3RzLmFuc3dlclN1YmplY3RcblxuICBjb25zdCBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpXG5cbiAgc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgc2lnbmFsaW5nQ2xpZW50LnJlbW90ZUNsaWVudENvbm5lY3RlZCRcbiAgICAgIC5waXBlKFxuICAgICAgICBmaXJzdCgpLFxuICAgICAgICBtZXJnZU1hcCgoKSA9PlxuICAgICAgICAgIG1lcmdlKFxuICAgICAgICAgICAgc2lnbmFsaW5nQ2xpZW50LnJlbW90ZUNsaWVudERpc2Nvbm5lY3RlZCQsXG4gICAgICAgICAgICB0aW1lcigxMDApLnBpcGUoXG4gICAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiBzaWduYWxpbmdDbGllbnQucmVtb3RlQ2xpZW50Q29ubmVjdGVkJCksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICkucGlwZSh0YXAoKCkgPT4gcmVzdGFydCgpKSksXG4gICAgICAgICksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCksXG4gIClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICBtZXJnZShvbkxvY2FsT2ZmZXIkLCBvbkxvY2FsQW5zd2VyJCwgb25Mb2NhbEljZUNhbmRpZGF0ZSQpXG4gICAgICAucGlwZShjb25jYXRNYXAoaW5wdXQuc2lnbmFsaW5nQ2xpZW50LnNlbmRNZXNzYWdlKSlcbiAgICAgIC5zdWJzY3JpYmUoKSxcbiAgKVxuXG4gIHN1YnNjcmlwdGlvbnMuYWRkKFxuICAgIG9uUmVtb3RlSWNlQ2FuZGlkYXRlJFxuICAgICAgLnBpcGUoXG4gICAgICAgIHRhcCgoaWNlQ2FuZGlkYXRlKSA9PlxuICAgICAgICAgIHN1YmplY3RzLm9uUmVtb3RlSWNlQ2FuZGlkYXRlU3ViamVjdC5uZXh0KGljZUNhbmRpZGF0ZSksXG4gICAgICAgICksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCksXG4gIClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICBzaWduYWxpbmdDbGllbnQuc3RhdHVzJFxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcigoc3RhdHVzKSA9PiBzdGF0dXMgPT09ICdjb25uZWN0ZWQnKSxcbiAgICAgICAgZmlyc3QoKSxcbiAgICAgICAgc3dpdGNoTWFwKCgpID0+XG4gICAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgICBzaWduYWxpbmdDbGllbnQuc3RhdHVzJCxcbiAgICAgICAgICAgIGRhdGFDaGFubmVsQ2xpZW50LnN1YmplY3RzLmRhdGFDaGFubmVsU3RhdHVzU3ViamVjdCxcbiAgICAgICAgICBdKS5waXBlKFxuICAgICAgICAgICAgZmlsdGVyKFxuICAgICAgICAgICAgICAoW3NpZ25hbGluZ1NlcnZlclN0YXR1cywgZGF0YUNoYW5uZWxTdGF0dXNdKSA9PlxuICAgICAgICAgICAgICAgIHNpZ25hbGluZ1NlcnZlclN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcgJiZcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbFN0YXR1cyA9PT0gJ2Nsb3NlZCcsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZmlyc3QoKSxcbiAgICAgICAgICAgIHRhcCgoKSA9PiByZXN0YXJ0KCkpLFxuICAgICAgICAgICksXG4gICAgICAgICksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCksXG4gIClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICBjb21iaW5lTGF0ZXN0KFtcbiAgICAgIGRhdGFDaGFubmVsQ2xpZW50LnN1YmplY3RzLmRhdGFDaGFubmVsU3RhdHVzU3ViamVjdCxcbiAgICAgIHNpZ25hbGluZ0NsaWVudC5zdGF0dXMkLFxuICAgIF0pXG4gICAgICAucGlwZShcbiAgICAgICAgdGFwKChbZGF0YUNoYW5uZWxTdGF0dXMsIHNpZ25hbGluZ1NlcnZlclN0YXR1c10pID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhQ2hhbm5lbFN0YXR1cyA9PT0gJ29wZW4nICYmXG4gICAgICAgICAgICBzaWduYWxpbmdTZXJ2ZXJTdGF0dXMgPT09ICdjb25uZWN0ZWQnXG4gICAgICAgICAgKVxuICAgICAgICAgICAgc2lnbmFsaW5nQ2xpZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKSxcbiAgKVxuXG4gIHN1YnNjcmlwdGlvbnMuYWRkKFxuICAgIHN1YmplY3RzLmljZUNvbm5lY3Rpb25TdGF0ZVN1YmplY3RcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoKHN0YXRlKSA9PiBzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpLFxuICAgICAgICB0YXAoKCkgPT4ge1xuICAgICAgICAgIHJlc3RhcnQoKVxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKSxcbiAgKVxuXG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgaW5wdXQubG9nZ2VyPy5kZWJ1Zyhg8J+VuPCfp7kgZGVzdHJveWluZyB3ZWJSVEMgaW5zdGFuY2VgKVxuICAgIGljZUNhbmRpZGF0ZUNsaWVudC5kZXN0cm95KClcbiAgICBkYXRhQ2hhbm5lbENsaWVudC5kZXN0cm95KClcbiAgICBwZWVyQ29ubmVjdGlvbkNsaWVudC5kZXN0cm95KClcbiAgICBzdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGVlckNvbm5lY3Rpb24sXG4gICAgZGF0YUNoYW5uZWxDbGllbnQsXG4gICAgaWNlQ2FuZGlkYXRlQ2xpZW50LFxuICAgIHN1YmplY3RzLFxuICAgIGRlc3Ryb3ksXG4gIH1cbn1cbiIsImltcG9ydCB7IEFuc3dlciwgT2ZmZXIgfSBmcm9tICdpby10eXBlcy90eXBlcydcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgUmVwbGF5U3ViamVjdCwgU3ViamVjdCB9IGZyb20gJ3J4anMnXG5pbXBvcnQgeyBJY2VDYW5kaWRhdGVNZXNzYWdlIH0gZnJvbSAnY29ubmVjdG9yL190eXBlcydcblxuZXhwb3J0IHR5cGUgV2ViUnRjU3ViamVjdHNUeXBlID0gUmV0dXJuVHlwZTx0eXBlb2YgV2ViUnRjU3ViamVjdHM+XG5cbmV4cG9ydCBjb25zdCBXZWJSdGNTdWJqZWN0cyA9ICgpID0+ICh7XG4gIG9uTmVnb3RpYXRpb25OZWVkZWRTdWJqZWN0OiBuZXcgU3ViamVjdDx2b2lkPigpLFxuICBvbkljZUNhbmRpZGF0ZVN1YmplY3Q6IG5ldyBTdWJqZWN0PFJUQ0ljZUNhbmRpZGF0ZT4oKSxcbiAgaWNlQ2FuZGlkYXRlc1N1YmplY3Q6IG5ldyBCZWhhdmlvclN1YmplY3Q8SWNlQ2FuZGlkYXRlTWVzc2FnZVtdPihbXSksXG4gIG9uUmVtb3RlSWNlQ2FuZGlkYXRlU3ViamVjdDogbmV3IFN1YmplY3Q8UlRDSWNlQ2FuZGlkYXRlPigpLFxuICByZW1vdGVJY2VDYW5kaWRhdGVzU3ViamVjdDogbmV3IEJlaGF2aW9yU3ViamVjdDxSVENJY2VDYW5kaWRhdGVbXT4oW10pLFxuICBvZmZlclN1YmplY3Q6IG5ldyBSZXBsYXlTdWJqZWN0PFxuICAgIFBpY2s8T2ZmZXIsICdtZXRob2QnIHwgJ3BheWxvYWQnIHwgJ3NvdXJjZSc+XG4gID4oKSxcbiAgYW5zd2VyU3ViamVjdDogbmV3IFJlcGxheVN1YmplY3Q8XG4gICAgUGljazxBbnN3ZXIsICdtZXRob2QnIHwgJ3BheWxvYWQnIHwgJ3NvdXJjZSc+XG4gID4oKSxcbiAgb25SZW1vdGVBbnN3ZXJTdWJqZWN0OiBuZXcgU3ViamVjdDx2b2lkPigpLFxuICBvblNpZ25hbGluZ1N0YXRlQ2hhbmdlU3ViamVjdDogbmV3IFN1YmplY3Q8UlRDU2lnbmFsaW5nU3RhdGU+KCksXG4gIGRhdGFDaGFubmVsU3RhdHVzU3ViamVjdDogbmV3IEJlaGF2aW9yU3ViamVjdDwnb3BlbicgfCAnY2xvc2VkJz4oJ2Nsb3NlZCcpLFxuICBpY2VDb25uZWN0aW9uU3RhdGVTdWJqZWN0OiBuZXcgU3ViamVjdDxSVENJY2VDb25uZWN0aW9uU3RhdGU+KCksXG59KVxuIiwiaW1wb3J0IHsgU3RhdHVzIH0gZnJvbSAnY29ubmVjdG9yL190eXBlcydcbmltcG9ydCB7IFNpZ25hbGluZ1NlcnZlclJlc3BvbnNlIH0gZnJvbSAnaW8tdHlwZXMvdHlwZXMnXG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QgfSBmcm9tICdyeGpzJ1xuXG5leHBvcnQgdHlwZSBTaWduYWxpbmdTdWJqZWN0c1R5cGUgPSBSZXR1cm5UeXBlPHR5cGVvZiBTaWduYWxpbmdTdWJqZWN0cz5cbmV4cG9ydCBjb25zdCBTaWduYWxpbmdTdWJqZWN0cyA9ICgpID0+ICh7XG4gIG9uTWVzc2FnZVN1YmplY3Q6IG5ldyBTdWJqZWN0PFNpZ25hbGluZ1NlcnZlclJlc3BvbnNlPigpLFxuICBvbkVycm9yU3ViamVjdDogbmV3IFN1YmplY3Q8RXZlbnQ+KCksXG4gIHN0YXR1c1N1YmplY3Q6IG5ldyBCZWhhdmlvclN1YmplY3Q8U3RhdHVzPignZGlzY29ubmVjdGVkJyksXG4gIHRhcmdldENsaWVudElkU3ViamVjdDogbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCksXG59KVxuIiwiaW1wb3J0IHsgbWVzc2FnZVRvQ2h1bmtlZCB9IGZyb20gJ2Nvbm5lY3Rvci9oZWxwZXJzJ1xuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2Nvbm5lY3Rvci9fdHlwZXMnXG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tICduZXZlcnRocm93J1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSAndXRpbHMvc3RyaW5naWZ5J1xuaW1wb3J0IHsgdG9CdWZmZXIgfSBmcm9tICd1dGlscy90by1idWZmZXInXG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlTWVzc2FnZSA9IChtZXNzYWdlOiBNZXNzYWdlKSA9PlxuICBzdHJpbmdpZnkobWVzc2FnZSlcbiAgICAubWFwKHRvQnVmZmVyKVxuICAgIC5hc3luY0FuZFRoZW4obWVzc2FnZVRvQ2h1bmtlZClcbiAgICAuYW5kVGhlbigodmFsdWUpID0+XG4gICAgICBSZXN1bHQuY29tYmluZShbXG4gICAgICAgIHN0cmluZ2lmeSh2YWx1ZS5tZXRhRGF0YSksXG4gICAgICAgIC4uLnZhbHVlLmNodW5rcy5tYXAoc3RyaW5naWZ5KSxcbiAgICAgIF0pLm1hcCgoY2h1bmtzKSA9PiAoeyBjaHVua3MsIG1lc3NhZ2VJZDogdmFsdWUubWV0YURhdGEubWVzc2FnZUlkIH0pKSxcbiAgICApXG4iLCJpbXBvcnQge1xuICBDaHVua2VkTWVzc2FnZVR5cGUsXG4gIE1lc3NhZ2VDb25maXJtYXRpb24sXG4gIG1lc3NhZ2VFcnJvclJlYXNvbnMsXG4gIE1lc3NhZ2VFcnJvclJlYXNvbnMsXG4gIE1lc3NhZ2VFcnJvclR5cGVzLFxufSBmcm9tICdjb25uZWN0b3IvX3R5cGVzJ1xuaW1wb3J0IHsgZXJyQXN5bmMsIG9rQXN5bmMsIFJlc3VsdEFzeW5jIH0gZnJvbSAnbmV2ZXJ0aHJvdydcbmltcG9ydCB7IGZpbHRlciwgZmlyc3RWYWx1ZUZyb20sIFN1YmplY3QgfSBmcm9tICdyeGpzJ1xuaW1wb3J0IHsgcHJlcGFyZU1lc3NhZ2UgfSBmcm9tICcuL3ByZXBhcmUtbWVzc2FnZSdcblxuY29uc3Qgc2VuZENodW5rcyA9IChcbiAgY2h1bmtzOiBzdHJpbmdbXSxcbiAgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxTdWJqZWN0OiBTdWJqZWN0PHN0cmluZz4sXG4pID0+IHtcbiAgY2h1bmtzLmZvckVhY2goKGNodW5rKSA9PiBzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbFN1YmplY3QubmV4dChjaHVuaykpXG4gIHJldHVybiBva0FzeW5jKHVuZGVmaW5lZClcbn1cblxuY29uc3Qgd2FpdEZvckNvbmZpcm1hdGlvbiA9IChcbiAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gIG9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdDogU3ViamVjdDxDaHVua2VkTWVzc2FnZVR5cGU+LFxuKSA9PlxuICBSZXN1bHRBc3luYy5mcm9tU2FmZVByb21pc2UoXG4gICAgZmlyc3RWYWx1ZUZyb20oXG4gICAgICBvbkRhdGFDaGFubmVsTWVzc2FnZVN1YmplY3QucGlwZShcbiAgICAgICAgZmlsdGVyKFxuICAgICAgICAgIChtZXNzYWdlKTogbWVzc2FnZSBpcyBNZXNzYWdlQ29uZmlybWF0aW9uIHwgTWVzc2FnZUVycm9yVHlwZXMgPT5cbiAgICAgICAgICAgIFsncmVjZWl2ZU1lc3NhZ2VDb25maXJtYXRpb24nLCAncmVjZWl2ZU1lc3NhZ2VFcnJvciddLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBtZXNzYWdlLnBhY2thZ2VUeXBlLFxuICAgICAgICAgICAgKSAmJiBtZXNzYWdlLm1lc3NhZ2VJZCA9PT0gbWVzc2FnZUlkLFxuICAgICAgICApLFxuICAgICAgKSxcbiAgICApLFxuICApLmFuZFRoZW4oXG4gICAgKFxuICAgICAgbWVzc2FnZSxcbiAgICApOiBSZXN1bHRBc3luYzxNZXNzYWdlQ29uZmlybWF0aW9uLCB7IHJlYXNvbjogTWVzc2FnZUVycm9yUmVhc29ucyB9PiA9PlxuICAgICAgbWVzc2FnZS5wYWNrYWdlVHlwZSA9PT0gJ3JlY2VpdmVNZXNzYWdlQ29uZmlybWF0aW9uJ1xuICAgICAgICA/IG9rQXN5bmMobWVzc2FnZSlcbiAgICAgICAgOiBlcnJBc3luYyh7IHJlYXNvbjogbWVzc2FnZS5lcnJvciB9KSxcbiAgKVxuXG5leHBvcnQgY29uc3Qgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxBbmRXYWl0Rm9yQ29uZmlybWF0aW9uID0gKGlucHV0OiB7XG4gIG1lc3NhZ2U6IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxTdWJqZWN0OiBTdWJqZWN0PHN0cmluZz5cbiAgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0OiBTdWJqZWN0PENodW5rZWRNZXNzYWdlVHlwZT5cbiAgbWVzc2FnZUV2ZW50Q2FsbGJhY2s6IChldmVudDogJ21lc3NhZ2VTZW50JykgPT4gdm9pZFxuICB0aW1lb3V0PzogbnVtYmVyXG59KTogUmVzdWx0QXN5bmM8XG4gIHVuZGVmaW5lZCxcbiAge1xuICAgIHJlYXNvbjogTWVzc2FnZUVycm9yUmVhc29uc1xuICB9XG4+ID0+XG4gIHByZXBhcmVNZXNzYWdlKGlucHV0Lm1lc3NhZ2UpXG4gICAgLm1hcEVycigoKTogeyByZWFzb246IE1lc3NhZ2VFcnJvclJlYXNvbnMgfSA9PiAoe1xuICAgICAgcmVhc29uOiBtZXNzYWdlRXJyb3JSZWFzb25zLmZhaWxlZFRvUHJlcGFyZU1lc3NhZ2UsXG4gICAgfSkpXG4gICAgLmFuZFRoZW4oKHsgY2h1bmtzLCBtZXNzYWdlSWQgfSkgPT5cbiAgICAgIFJlc3VsdEFzeW5jLmNvbWJpbmUoW1xuICAgICAgICBzZW5kQ2h1bmtzKFxuICAgICAgICAgIGNodW5rcyBhcyBzdHJpbmdbXSxcbiAgICAgICAgICBpbnB1dC5zZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbFN1YmplY3QsXG4gICAgICAgICkubWFwKCgpID0+IHtcbiAgICAgICAgICBpbnB1dC5tZXNzYWdlRXZlbnRDYWxsYmFjaygnbWVzc2FnZVNlbnQnKVxuICAgICAgICAgIGlmIChpbnB1dC50aW1lb3V0KVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGlucHV0Lm9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdC5uZXh0KHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlVHlwZTogJ3JlY2VpdmVNZXNzYWdlRXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogbWVzc2FnZUVycm9yUmVhc29ucy50aW1lb3V0LFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSwgaW5wdXQudGltZW91dClcbiAgICAgICAgfSksXG4gICAgICAgIHdhaXRGb3JDb25maXJtYXRpb24obWVzc2FnZUlkLCBpbnB1dC5vbkRhdGFDaGFubmVsTWVzc2FnZVN1YmplY3QpLFxuICAgICAgXSksXG4gICAgKVxuICAgIC5tYXAoKCkgPT4gdW5kZWZpbmVkKVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0IH0gZnJvbSAncnhqcydcbmltcG9ydCB7IENodW5rZWRNZXNzYWdlVHlwZSwgTWVzc2FnZSB9IGZyb20gJy4vX3R5cGVzJ1xuXG5leHBvcnQgdHlwZSBDb25uZWN0b3JDbGllbnRTdWJqZWN0cyA9IFJldHVyblR5cGU8dHlwZW9mIENvbm5lY3RvckNsaWVudFN1YmplY3RzPlxuXG5leHBvcnQgY29uc3QgQ29ubmVjdG9yQ2xpZW50U3ViamVjdHMgPSAoKSA9PiAoe1xuICBzaG91bGRDb25uZWN0U3ViamVjdDogbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSksXG4gIGNvbm5lY3RlZDogbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSksXG4gIHRyaWdnZXJSZXN0YXJ0U3ViamVjdDogbmV3IFN1YmplY3Q8dm9pZD4oKSxcbiAgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0OiBuZXcgU3ViamVjdDxDaHVua2VkTWVzc2FnZVR5cGU+KCksXG4gIG9uTWVzc2FnZTogbmV3IFN1YmplY3Q8TWVzc2FnZT4oKSxcbiAgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxTdWJqZWN0OiBuZXcgU3ViamVjdDxzdHJpbmc+KCksXG59KVxuIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnY29uZmlnJ1xuaW1wb3J0IHsgU2VjcmV0c0NsaWVudCB9IGZyb20gJ2Nvbm5lY3Rvci9zZWNyZXRzLWNsaWVudCdcbmltcG9ydCB7IFNpZ25hbGluZ0NsaWVudCB9IGZyb20gJ2Nvbm5lY3Rvci9zaWduYWxpbmcvc2lnbmFsaW5nLWNsaWVudCdcbmltcG9ydCB7XG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBmaWx0ZXIsXG4gIGZpbmFsaXplLFxuICBmaXJzdFZhbHVlRnJvbSxcbiAgaWlmLFxuICBtYXAsXG4gIG1lcmdlLFxuICBTdWJzY3JpcHRpb24sXG4gIHN3aXRjaE1hcCxcbiAgdGFwLFxuICB3aXRoTGF0ZXN0RnJvbSxcbn0gZnJvbSAncnhqcydcbmltcG9ydCB7IFdlYlJ0Y0NsaWVudCB9IGZyb20gJy4vd2VicnRjL3dlYnJ0Yy1jbGllbnQnXG5pbXBvcnQgeyBNZXNzYWdlU291cmNlcyB9IGZyb20gJ2lvLXR5cGVzL3R5cGVzJ1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAndHNsb2cnXG5pbXBvcnQgeyBXZWJSdGNTdWJqZWN0cywgV2ViUnRjU3ViamVjdHNUeXBlIH0gZnJvbSAnLi93ZWJydGMvc3ViamVjdHMnXG5pbXBvcnQgeyBTaWduYWxpbmdTdWJqZWN0cywgU2lnbmFsaW5nU3ViamVjdHNUeXBlIH0gZnJvbSAnLi9zaWduYWxpbmcvc3ViamVjdHMnXG5pbXBvcnQgeyBlcnJBc3luYywgUmVzdWx0QXN5bmMgfSBmcm9tICduZXZlcnRocm93J1xuaW1wb3J0IHsgZXJyb3JJZGVudGl0eSB9IGZyb20gJ3V0aWxzL2Vycm9yLWlkZW50aXR5J1xuaW1wb3J0IHsgc2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxBbmRXYWl0Rm9yQ29uZmlybWF0aW9uIH0gZnJvbSAnLi93ZWJydGMvaGVscGVycy9zZW5kLW1lc3NhZ2Utb3Zlci1kYXRhLWNoYW5uZWwtYW5kLXdhaXQtZm9yLWNvbmZpcm1hdGlvbidcbmltcG9ydCB7IENvbm5lY3RvckNsaWVudFN1YmplY3RzIH0gZnJvbSAnLi9zdWJqZWN0cydcbmltcG9ydCB7IE1lc3NhZ2VFcnJvclJlYXNvbnMsIFNlY3JldHMgfSBmcm9tICcuL190eXBlcydcblxuZXhwb3J0IHR5cGUgQ29ubmVjdG9yQ2xpZW50ID0gUmV0dXJuVHlwZTx0eXBlb2YgQ29ubmVjdG9yQ2xpZW50PlxuXG5leHBvcnQgY29uc3QgQ29ubmVjdG9yQ2xpZW50ID0gKGlucHV0OiB7XG4gIHRhcmdldDogTWVzc2FnZVNvdXJjZXNcbiAgc291cmNlOiBNZXNzYWdlU291cmNlc1xuICBzaWduYWxpbmdTZXJ2ZXJCYXNlVXJsOiBzdHJpbmdcbiAgbG9nZ2VyPzogTG9nZ2VyPHVua25vd24+XG4gIGlzSW5pdGlhdG9yOiBib29sZWFuXG4gIGNyZWF0ZVdlYlJ0Y1N1YmplY3RzPzogKCkgPT4gV2ViUnRjU3ViamVjdHNUeXBlXG4gIGNyZWF0ZVNpZ25hbGluZ1N1YmplY3RzPzogKCkgPT4gU2lnbmFsaW5nU3ViamVjdHNUeXBlXG4gIHN1YmplY3RzPzogQ29ubmVjdG9yQ2xpZW50U3ViamVjdHNcbn0pID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gaW5wdXQubG9nZ2VyXG4gIGxvZ2dlcj8uZGVidWcoYPCflIzinKggY29ubmVjdG9yIGNsaWVudCBpbml0aWF0ZWRgKVxuXG4gIGNvbnN0IHN1YmplY3RzID0gaW5wdXQuc3ViamVjdHMgfHwgQ29ubmVjdG9yQ2xpZW50U3ViamVjdHMoKVxuICBjb25zdCBzaG91bGRDb25uZWN0U3ViamVjdCA9IHN1YmplY3RzLnNob3VsZENvbm5lY3RTdWJqZWN0XG4gIGNvbnN0IGNvbm5lY3RlZCA9IHN1YmplY3RzLmNvbm5lY3RlZFxuICBjb25zdCB0cmlnZ2VyUmVzdGFydFN1YmplY3QgPSBzdWJqZWN0cy50cmlnZ2VyUmVzdGFydFN1YmplY3RcbiAgY29uc3Qgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0ID0gc3ViamVjdHMub25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0XG4gIGNvbnN0IG9uTWVzc2FnZSA9IHN1YmplY3RzLm9uTWVzc2FnZVxuICBjb25zdCBzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbFN1YmplY3QgPVxuICAgIHN1YmplY3RzLnNlbmRNZXNzYWdlT3ZlckRhdGFDaGFubmVsU3ViamVjdFxuXG4gIGNvbnN0IGNyZWF0ZVdlYlJ0Y1N1YmplY3RzID1cbiAgICBpbnB1dC5jcmVhdGVXZWJSdGNTdWJqZWN0cyB8fCAoKCkgPT4gV2ViUnRjU3ViamVjdHMoKSlcblxuICBjb25zdCBjcmVhdGVTaWduYWxpbmdTdWJqZWN0cyA9XG4gICAgaW5wdXQuY3JlYXRlU2lnbmFsaW5nU3ViamVjdHMgfHwgKCgpID0+IFNpZ25hbGluZ1N1YmplY3RzKCkpXG5cbiAgY29uc3Qgc2VjcmV0c0NsaWVudCA9IFNlY3JldHNDbGllbnQoeyBsb2dnZXIgfSlcblxuICBjb25zdCB0cmlnZ2VyUmVzdGFydCQgPSB0cmlnZ2VyUmVzdGFydFN1YmplY3QucGlwZShcbiAgICB3aXRoTGF0ZXN0RnJvbShzaG91bGRDb25uZWN0U3ViamVjdCksXG4gICAgbWFwKChbLCBzaG91bGRDb25uZWN0XSkgPT4gc2hvdWxkQ29ubmVjdCksXG4gICAgdGFwKCgpID0+IGxvZ2dlcj8uZGVidWcoYPCflIzwn5SEIHJlc3RhcnRpbmcgY29ubmVjdG9yIGNsaWVudGApKSxcbiAgKVxuICBjb25zdCB0cmlnZ2VyQ29ubmVjdGlvbiQgPSBtZXJnZShcbiAgICBzaG91bGRDb25uZWN0U3ViamVjdC5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKG9sZFZhbHVlLCBuZXdWYWx1ZSkgPT4gb2xkVmFsdWUgPT09IG5ld1ZhbHVlKSxcbiAgICApLFxuICAgIHRyaWdnZXJSZXN0YXJ0JCxcbiAgKVxuXG4gIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKClcblxuICBjb25zdCBjb25uZWN0aW9uJCA9IHNlY3JldHNDbGllbnQuc2VjcmV0cyQucGlwZShcbiAgICBmaWx0ZXIoKHNlY3JldHMpOiBzZWNyZXRzIGlzIFNlY3JldHMgPT4gISFzZWNyZXRzKSxcbiAgICBzd2l0Y2hNYXAoKHNlY3JldHMpID0+IHtcbiAgICAgIGNvbnN0IHNpZ25hbGluZ0NsaWVudCA9IFNpZ25hbGluZ0NsaWVudCh7XG4gICAgICAgIGJhc2VVcmw6IGlucHV0LnNpZ25hbGluZ1NlcnZlckJhc2VVcmwsXG4gICAgICAgIHRhcmdldDogaW5wdXQudGFyZ2V0LFxuICAgICAgICBzb3VyY2U6IGlucHV0LnNvdXJjZSxcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBzdWJqZWN0czogY3JlYXRlU2lnbmFsaW5nU3ViamVjdHMoKSxcbiAgICAgICAgc2VjcmV0cyxcbiAgICAgICAgcmVzdGFydDogKCkgPT4gdHJpZ2dlclJlc3RhcnRTdWJqZWN0Lm5leHQoKSxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHdlYlJ0Y0NsaWVudCA9IFdlYlJ0Y0NsaWVudCh7XG4gICAgICAgIC4uLmNvbmZpZy53ZWJSVEMsXG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgc2hvdWxkQ3JlYXRlT2ZmZXI6IGlucHV0LmlzSW5pdGlhdG9yLFxuICAgICAgICBzdWJqZWN0czogY3JlYXRlV2ViUnRjU3ViamVjdHMoKSxcbiAgICAgICAgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0LFxuICAgICAgICBzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbFN1YmplY3QsXG4gICAgICAgIG9uTWVzc2FnZSxcbiAgICAgICAgc2lnbmFsaW5nQ2xpZW50LFxuICAgICAgICBzb3VyY2U6IGlucHV0LnNvdXJjZSxcbiAgICAgICAgcmVzdGFydDogKCkgPT4gdHJpZ2dlclJlc3RhcnRTdWJqZWN0Lm5leHQoKSxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgIHNpZ25hbGluZ0NsaWVudC5kZXN0cm95KClcbiAgICAgICAgd2ViUnRjQ2xpZW50LmRlc3Ryb3koKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gd2ViUnRjQ2xpZW50LmRhdGFDaGFubmVsQ2xpZW50LnN1YmplY3RzLmRhdGFDaGFubmVsU3RhdHVzU3ViamVjdC5waXBlKFxuICAgICAgICB0YXAoKHN0YXR1cykgPT4gY29ubmVjdGVkLm5leHQoc3RhdHVzID09PSAnb3BlbicpKSxcbiAgICAgICAgZmluYWxpemUoKCkgPT4ge1xuICAgICAgICAgIGNvbm5lY3RlZC5uZXh0KGZhbHNlKVxuICAgICAgICAgIHJldHVybiBkZXN0cm95KClcbiAgICAgICAgfSksXG4gICAgICApXG4gICAgfSksXG4gIClcblxuICBzdWJzY3JpcHRpb25zLmFkZChcbiAgICB0cmlnZ2VyQ29ubmVjdGlvbiRcbiAgICAgIC5waXBlKFxuICAgICAgICBzd2l0Y2hNYXAoKHNob3VsZENvbm5lY3QpID0+XG4gICAgICAgICAgaWlmKCgpID0+ICEhc2hvdWxkQ29ubmVjdCwgY29ubmVjdGlvbiQsIFtdKSxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKSxcbiAgKVxuXG4gIHJldHVybiB7XG4gICAgY29ubmVjdGVkJDogY29ubmVjdGVkLmFzT2JzZXJ2YWJsZSgpLFxuICAgIGNvbm5lY3RlZDogKCkgPT5cbiAgICAgIFJlc3VsdEFzeW5jLmZyb21Qcm9taXNlKFxuICAgICAgICBmaXJzdFZhbHVlRnJvbShjb25uZWN0ZWQucGlwZShmaWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSkpKSxcbiAgICAgICAgZXJyb3JJZGVudGl0eSxcbiAgICAgICksXG4gICAgc2V0Q29ubmVjdGlvblBhc3N3b3JkOiAocGFzc3dvcmQ6IEJ1ZmZlcikgPT5cbiAgICAgIHNlY3JldHNDbGllbnQuZGVyaXZlU2VjcmV0c0Zyb21QYXNzd29yZChwYXNzd29yZCksXG4gICAgY29ubmVjdGlvblBhc3N3b3JkJDogc2VjcmV0c0NsaWVudC5zZWNyZXRzJC5waXBlKFxuICAgICAgbWFwKChzZWNyZXRzKSA9PiBzZWNyZXRzPy5lbmNyeXB0aW9uS2V5KSxcbiAgICApLFxuICAgIGdlbmVyYXRlQ29ubmVjdGlvblBhc3N3b3JkOiAoKSA9PiBzZWNyZXRzQ2xpZW50LmdlbmVyYXRlQ29ubmVjdGlvblNlY3JldHMoKSxcbiAgICBjb25uZWN0OiAoKSA9PiBzaG91bGRDb25uZWN0U3ViamVjdC5uZXh0KHRydWUpLFxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHNob3VsZENvbm5lY3RTdWJqZWN0Lm5leHQoZmFsc2UpLFxuICAgIHNob3VsZENvbm5lY3QkOiBzaG91bGRDb25uZWN0U3ViamVjdC5hc09ic2VydmFibGUoKSxcbiAgICBzZW5kTWVzc2FnZTogKFxuICAgICAgbWVzc2FnZTogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICAgIG9wdGlvbnM/OiBQYXJ0aWFsPHtcbiAgICAgICAgbWVzc2FnZUV2ZW50Q2FsbGJhY2s6IChldmVudDogJ21lc3NhZ2VTZW50JykgPT4gdm9pZFxuICAgICAgICB0aW1lb3V0OiBudW1iZXJcbiAgICAgIH0+LFxuICAgICk6IFJlc3VsdEFzeW5jPFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAge1xuICAgICAgICByZWFzb246IE1lc3NhZ2VFcnJvclJlYXNvbnNcbiAgICAgICAganNFcnJvcj86IEVycm9yXG4gICAgICB9XG4gICAgPiA9PiB7XG4gICAgICBpZiAoIWNvbm5lY3RlZC5nZXRWYWx1ZSgpKSByZXR1cm4gZXJyQXN5bmMoeyByZWFzb246ICdub3RDb25uZWN0ZWQnIH0pXG5cbiAgICAgIGNvbnN0IGRlZmF1bHRNZXNzYWdlRXZlbnRDYWxsYmFjayA9IChldmVudDogJ21lc3NhZ2VTZW50JykgPT4ge31cblxuICAgICAgY29uc3QgbWVzc2FnZUV2ZW50Q2FsbGJhY2sgPVxuICAgICAgICBvcHRpb25zPy5tZXNzYWdlRXZlbnRDYWxsYmFjayB8fCBkZWZhdWx0TWVzc2FnZUV2ZW50Q2FsbGJhY2tcblxuICAgICAgcmV0dXJuIHNlbmRNZXNzYWdlT3ZlckRhdGFDaGFubmVsQW5kV2FpdEZvckNvbmZpcm1hdGlvbih7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHNlbmRNZXNzYWdlT3ZlckRhdGFDaGFubmVsU3ViamVjdCxcbiAgICAgICAgb25EYXRhQ2hhbm5lbE1lc3NhZ2VTdWJqZWN0LFxuICAgICAgICBtZXNzYWdlRXZlbnRDYWxsYmFjayxcbiAgICAgICAgdGltZW91dDogb3B0aW9ucz8udGltZW91dCxcbiAgICAgIH0pXG4gICAgfSxcbiAgICBvbk1lc3NhZ2UkOiBvbk1lc3NhZ2UuYXNPYnNlcnZhYmxlKCksXG4gICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgbG9nZ2VyPy5kZWJ1Zygn8J+UjPCfp7kgZGVzdHJveWluZyBjb25uZWN0b3IgY2xpZW50JylcbiAgICAgIHN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKVxuICAgIH0sXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJwYXJzZUpTT04iLCJ0ZXh0Iiwib2siLCJlcnJvciIsImVyciIsImVycm9ySWRlbnRpdHkiLCJCZWhhdmlvclN1YmplY3QiLCJfc3VwZXIiLCJfX2V4dGVuZHMiLCJfdmFsdWUiLCJfdGhpcyIsInN1YnNjcmliZXIiLCJzdWJzY3JpcHRpb24iLCJfYSIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJ2YWx1ZSIsIlN1YmplY3QiLCJpc0FycmF5IiwiY2FsbE9yQXBwbHkiLCJmbiIsImFyZ3MiLCJfX3NwcmVhZEFycmF5IiwiX19yZWFkIiwibWFwT25lT3JNYW55QXJncyIsIm1hcCIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG8iLCJnZXRLZXlzIiwiYXJnc0FyZ0FycmF5T3JPYmplY3QiLCJmaXJzdF8xIiwiaXNQT0pPIiwia2V5cyIsImtleSIsIm9iaiIsImNyZWF0ZU9iamVjdCIsInZhbHVlcyIsInJlc3VsdCIsImkiLCJjb21iaW5lTGF0ZXN0IiwiX2kiLCJzY2hlZHVsZXIiLCJwb3BTY2hlZHVsZXIiLCJyZXN1bHRTZWxlY3RvciIsInBvcFJlc3VsdFNlbGVjdG9yIiwib2JzZXJ2YWJsZXMiLCJmcm9tIiwiT2JzZXJ2YWJsZSIsImNvbWJpbmVMYXRlc3RJbml0IiwiaWRlbnRpdHkiLCJ2YWx1ZVRyYW5zZm9ybSIsIm1heWJlU2NoZWR1bGUiLCJsZW5ndGgiLCJhY3RpdmUiLCJyZW1haW5pbmdGaXJzdFZhbHVlcyIsIl9sb29wXzEiLCJzb3VyY2UiLCJoYXNGaXJzdFZhbHVlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwiZXhlY3V0ZSIsImV4ZWN1dGVTY2hlZHVsZSIsImNvbmNhdEFsbCIsIm1lcmdlQWxsIiwiY29uY2F0IiwiZGVmZXIiLCJvYnNlcnZhYmxlRmFjdG9yeSIsImlubmVyRnJvbSIsImlpZiIsImNvbmRpdGlvbiIsInRydWVSZXN1bHQiLCJmYWxzZVJlc3VsdCIsInNjYW5JbnRlcm5hbHMiLCJhY2N1bXVsYXRvciIsInNlZWQiLCJoYXNTZWVkIiwiZW1pdE9uTmV4dCIsImVtaXRCZWZvcmVDb21wbGV0ZSIsImhhc1N0YXRlIiwic3RhdGUiLCJpbmRleCIsImNvbmNhdE1hcCIsInByb2plY3QiLCJpc0Z1bmN0aW9uIiwibWVyZ2VNYXAiLCJpZ25vcmVFbGVtZW50cyIsIm9wZXJhdGUiLCJub29wIiwibWFwVG8iLCJkZWxheVdoZW4iLCJkZWxheUR1cmF0aW9uU2VsZWN0b3IiLCJzdWJzY3JpcHRpb25EZWxheSIsInRha2UiLCJkZWxheSIsImR1ZSIsImFzeW5jU2NoZWR1bGVyIiwiZHVyYXRpb24iLCJ0aW1lciIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwiY29tcGFyYXRvciIsImtleVNlbGVjdG9yIiwiZGVmYXVsdENvbXBhcmUiLCJwcmV2aW91c0tleSIsImZpcnN0IiwiY3VycmVudEtleSIsImEiLCJiIiwiZXhoYXVzdE1hcCIsImlpIiwiaW5uZXJTdWIiLCJpc0NvbXBsZXRlIiwib3V0ZXJWYWx1ZSIsImZpbmFsaXplIiwiY2FsbGJhY2siLCJzY2FuIiwidGFwIiwib2JzZXJ2ZXJPck5leHQiLCJjb21wbGV0ZSIsInRhcE9ic2VydmVyIiwiaXNVbnN1YiIsIl9iIiwid2l0aExhdGVzdEZyb20iLCJpbnB1dHMiLCJsZW4iLCJvdGhlclZhbHVlcyIsImhhc1ZhbHVlIiwicmVhZHkiLCJkZXJpdmVTZWNyZXRzRnJvbVBhc3N3b3JkIiwicGFzc3dvcmQiLCJibGFrZTJiIiwiY29ubmVjdGlvbklkIiwic2VjdXJlUmFuZG9tIiwiYnl0ZUNvdW50IiwiYnl0ZXMiLCJCdWZmZXIiLCJnZW5lcmF0ZUNvbm5lY3Rpb25QYXNzd29yZCIsImJ5dGVMZW5ndGgiLCJjb25maWciLCJTZWNyZXRzQ2xpZW50IiwiaW5wdXQiLCJsb2dnZXIiLCJzZWNyZXRzU3ViamVjdCIsImRlcml2ZVNlY3JldHNGcm9tUGFzc3dvcmRGbiIsInNlY3JldHMiLCJwYXJzZVJhd01lc3NhZ2UiLCJkYXRhIiwicmVtb3RlQ2xpZW50U3RhdGUiLCJyZW1vdGVDbGllbnRDb25uZWN0ZWQiLCJyZW1vdGVDbGllbnREaXNjb25uZWN0ZWQiLCJpc1JlbW90ZUNsaWVudENvbm5lY3Rpb25VcGRhdGUiLCJtZXNzYWdlIiwibWVzc2FnZUVycm9yUmVhc29ucyIsIm1lc3NhZ2VUb0NodW5rZWQiLCJjaHVua1NpemUiLCJtZXNzYWdlSWQiLCJidWZmZXJUb0NodW5rcyIsImJ1ZmZlcnMiLCJidWZmZXIiLCJjaHVua0luZGV4IiwiY2h1bmtzIiwibWV0YURhdGEiLCJDaHVua2VkIiwiYWRkQ2h1bmsiLCJjaHVuayIsImNvbmNhdENodW5rcyIsImNodW5rRGF0YSIsImFsbENodW5rc1JlY2VpdmVkIiwidmFsaWRhdGUiLCJoYXNoIiwiZXhwZWN0ZWRIYXNoIiwiY3JlYXRlSVYiLCJnZXRLZXkiLCJlbmNyeXB0aW9uS2V5IiwiUmVzdWx0QXN5bmMiLCJjcnlwdG9EZWNyeXB0IiwiaXYiLCJjcnlwdG9FbmNyeXB0IiwiZGVjcnlwdCIsImNyeXB0b0tleSIsImNvbWJpbmVJVmFuZENpcGhlclRleHQiLCJjaXBoZXJ0ZXh0IiwiZW5jcnlwdCIsImNyZWF0ZUJ1ZmZlclJlYWRlciIsIm9mZnNldCIsImJ5dGVzTGVmdFRvUmVhZCIsInJlYWROZXh0QnVmZmVyIiwiYnVmVG9SZXR1cm4iLCJmaW5pc2hlZFBhcnNpbmciLCJmaW5pc2hlZCIsImxlZnRCdWYiLCJyZWFkQnVmZmVyIiwiY29tYmluZVNlYWxib3hUb0J1ZmZlciIsImF1dGhUYWciLCJjb21iaW5lQ2lwaGVydGV4dEFuZEF1dGh0YWciLCJ0cmFuc2Zvcm1CdWZmZXJUb1NlYWxib3giLCJub25jZUxlbmd0aCIsImF1dGhUYWdMZW5ndGgiLCJSZXN1bHQiLCJkZWNyeXB0TWVzc2FnZVBheWxvYWQiLCJjaXBoZXJ0ZXh0QW5kQXV0aFRhZyIsImRlY3J5cHRlZCIsInN0cmluZ2lmeSIsIlNpZ25hbGluZ0NsaWVudCIsInN1YmplY3RzIiwiU3Vic2NyaXB0aW9uIiwidXJsIiwid3MiLCJvbkNvbmZpcm1hdGlvbiQiLCJmaWx0ZXIiLCJ3YWl0Rm9yQ29uZmlybWF0aW9uIiwicmVxdWVzdElkIiwiaW5jb21pbmdNZXNzYWdlIiwib25NZXNzYWdlIiwiZXZlbnQiLCJvbk9wZW4iLCJvbkNsb3NlIiwiY2xvc2VFdmVudCIsIm9uRXJyb3IiLCJwcmVwYXJlTWVzc2FnZSIsInBheWxvYWQiLCJtZXRob2QiLCJ0YXJnZXRDbGllbnRJZCIsImVuY3J5cHRlZCIsInNlbmRNZXNzYWdlIiwib2YiLCJlbmNyeXB0ZWRNZXNzYWdlIiwic2VuZE1lc3NhZ2UkIiwibWVyZ2UiLCJ3YWl0Rm9yUmVtb3RlQ2xpZW50Iiwid2FpdEZvciIsIm9uT2ZmZXIkIiwic3dpdGNoTWFwIiwib25BbnN3ZXIkIiwib25JY2VDYW5kaWRhdGUkIiwib25SZW1vdGVDbGllbnRDb25uZWN0aW9uU3RhdGVDaGFuZ2UkIiwic3RhdHVzIiwiaGFzQXJyYXlCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXlCdWZmZXIiLCJ0b0J1ZmZlciIsIndhaXRGb3JNZXRhRGF0YSIsIm9uRGF0YUNoYW5uZWxNZXNzYWdlU3ViamVjdCIsIndhaXRGb3JNZXNzYWdlQ2h1Y2siLCJoYW5kbGVJbmNvbWluZ0NodW5rZWRNZXNzYWdlcyIsIm1ldGFkYXRhIiwiY2h1bmtlZCIsIkRhdGFDaGFubmVsQ2xpZW50IiwiZGF0YUNoYW5uZWwiLCJvbkRhdGFDaGFubmVsT3BlbiIsIm9uRGF0YUNoYW5uZWxDbG9zZSIsIm9uRGF0YUNoYW5uZWxNZXNzYWdlIiwib25EYXRhQ2hhbm5lbEVycm9yIiwic2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWwiLCJzZW5kQ29uZmlybWF0aW9uTWVzc2FnZSIsInNlbmRFcnJvck1lc3NhZ2UiLCJzdWJzY3JpcHRpb25zIiwiSWNlQ2FuZGlkYXRlQ2xpZW50IiwicGVlckNvbm5lY3Rpb24iLCJvbkljZWNhbmRpZGF0ZSIsIm9uSWNlY29ubmVjdGlvblN0YXRlQ2hhbmdlIiwiYWRkSWNlQ2FuZGlkYXRlIiwiaWNlQ2FuZGlkYXRlIiwiaWNlQ2FuZGlkYXRlJCIsImNhbmRpZGF0ZSIsInNkcE1pZCIsInNkcE1MaW5lSW5kZXgiLCJoYXZlTG9jYWxPZmZlciQiLCJoYXZlUmVtb3RlT2ZmZXIkIiwid2FpdEZvclJlbW90ZURlc2NyaXB0aW9uJCIsIm9uUmVtb3RlSWNlQ2FuZGlkYXRlJCIsImljZUNhbmRpZGF0ZXMiLCJhY2MiLCJjdXJyIiwiUGVlckNvbm5lY3Rpb25DbGllbnQiLCJzaWduYWxpbmdDbGllbnQiLCJvblJlbW90ZU9mZmVyJCIsIm9uUmVtb3RlQW5zd2VyJCIsIm9uTmVnb3RpYXRpb25OZWVkZWQiLCJjcmVhdGVPZmZlciIsInNldExvY2FsRGVzY3JpcHRpb24iLCJzZHAiLCJvZmZlciIsIm9uU2lnbmFsaW5nU3RhdGVDaGFuZ2UiLCJkZXNjcmlwdGlvbiIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiY3JlYXRlQW5zd2VyIiwiYW5zd2VyIiwiV2ViUnRjQ2xpZW50IiwicmVzdGFydCIsInBlZXJDb25uZWN0aW9uQ2xpZW50IiwiZGF0YUNoYW5uZWxDbGllbnQiLCJpY2VDYW5kaWRhdGVDbGllbnQiLCJvbkxvY2FsSWNlQ2FuZGlkYXRlJCIsIm9uTG9jYWxPZmZlciQiLCJvbkxvY2FsQW5zd2VyJCIsInNpZ25hbGluZ1NlcnZlclN0YXR1cyIsImRhdGFDaGFubmVsU3RhdHVzIiwiV2ViUnRjU3ViamVjdHMiLCJSZXBsYXlTdWJqZWN0IiwiU2lnbmFsaW5nU3ViamVjdHMiLCJzZW5kQ2h1bmtzIiwic2VuZE1lc3NhZ2VPdmVyRGF0YUNoYW5uZWxTdWJqZWN0Iiwib2tBc3luYyIsImZpcnN0VmFsdWVGcm9tIiwiZXJyQXN5bmMiLCJzZW5kTWVzc2FnZU92ZXJEYXRhQ2hhbm5lbEFuZFdhaXRGb3JDb25maXJtYXRpb24iLCJDb25uZWN0b3JDbGllbnRTdWJqZWN0cyIsIkNvbm5lY3RvckNsaWVudCIsInNob3VsZENvbm5lY3RTdWJqZWN0IiwiY29ubmVjdGVkIiwidHJpZ2dlclJlc3RhcnRTdWJqZWN0IiwiY3JlYXRlV2ViUnRjU3ViamVjdHMiLCJjcmVhdGVTaWduYWxpbmdTdWJqZWN0cyIsInNlY3JldHNDbGllbnQiLCJ0cmlnZ2VyUmVzdGFydCQiLCJzaG91bGRDb25uZWN0IiwidHJpZ2dlckNvbm5lY3Rpb24kIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImNvbm5lY3Rpb24kIiwid2ViUnRjQ2xpZW50IiwiZGVzdHJveSIsIm9wdGlvbnMiLCJkZWZhdWx0TWVzc2FnZUV2ZW50Q2FsbGJhY2siLCJtZXNzYWdlRXZlbnRDYWxsYmFjayJdLCJtYXBwaW5ncyI6IjBkQUdhLE1BQUFBLEVBQ1hDLEdBQ3FCLENBQ2pCLEdBQUEsQ0FDRixPQUFP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
