import{R as a}from"./index.es.095da3c8.js";import{s as n}from"./Subject.c67f7ae3.js";const t=s=>a.fromPromise(chrome.tabs.get(s),e=>e),c=(s,e)=>a.fromPromise(chrome.tabs.sendMessage(s,e),r=>r),g=(s,e)=>s.source==="background"&&e?t(e).mapErr(o=>({reason:"tabNotFound",message:"could not find tab, user may have closed it",jsError:o})).andThen(()=>c(e,s).mapErr(o=>({reason:"couldNotSendMessageToTab",jsError:o}))):n(s).mapErr(o=>({reason:"couldNotSendMessage",jsError:o}));export{g as s};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VuZC1tZXNzYWdlLjZlMDQ3OWUwLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY2hyb21lL2hlbHBlcnMvZ2V0LXRhYi1ieS1pZC50cyIsIi4uLy4uL3NyYy9jaHJvbWUvaGVscGVycy9zZW5kLW1lc3NhZ2UtdG8tdGFiLnRzIiwiLi4vLi4vc3JjL2Nocm9tZS9tZXNzYWdlcy9zZW5kLW1lc3NhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzdWx0QXN5bmMgfSBmcm9tICduZXZlcnRocm93J1xuXG5leHBvcnQgY29uc3QgZ2V0VGFiQnlJZCA9ICh0YWJJZDogbnVtYmVyKSA9PlxuICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShjaHJvbWUudGFicy5nZXQodGFiSWQpLCAoZXJyKSA9PiBlcnIgYXMgRXJyb3IpXG4iLCJpbXBvcnQgeyBSZXN1bHRBc3luYyB9IGZyb20gJ25ldmVydGhyb3cnXG5cbmV4cG9ydCBjb25zdCBzZW5kTWVzc2FnZVRvVGFiID0gKFxuICB0YWJJZDogbnVtYmVyLFxuICBtZXNzYWdlOiBhbnksXG4pOiBSZXN1bHRBc3luYzx1bmRlZmluZWQsIEVycm9yPiA9PlxuICBSZXN1bHRBc3luYy5mcm9tUHJvbWlzZShcbiAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWJJZCwgbWVzc2FnZSksXG4gICAgKGVycikgPT4gZXJyIGFzIEVycm9yLFxuICApXG4iLCJpbXBvcnQgeyBSZXN1bHRBc3luYyB9IGZyb20gJ25ldmVydGhyb3cnXG5cbmltcG9ydCB7IENvbmZpcm1hdGlvbk1lc3NhZ2VFcnJvciwgTWVzc2FnZSB9IGZyb20gJy4vX3R5cGVzJ1xuaW1wb3J0IHsgZ2V0VGFiQnlJZCB9IGZyb20gJ2Nocm9tZS9oZWxwZXJzL2dldC10YWItYnktaWQnXG5pbXBvcnQgeyBzZW5kTWVzc2FnZSBhcyBjaHJvbWVTZW5kTWVzc2FnZSB9IGZyb20gJ2Nocm9tZS9oZWxwZXJzL3NlbmQtbWVzc2FnZSdcbmltcG9ydCB7IHNlbmRNZXNzYWdlVG9UYWIgYXMgY2hyb21lU2VuZE1lc3NhZ2VUb1RhYiB9IGZyb20gJ2Nocm9tZS9oZWxwZXJzL3NlbmQtbWVzc2FnZS10by10YWInXG5cbmV4cG9ydCB0eXBlIFNlbmRNZXNzYWdlID0gdHlwZW9mIHNlbmRNZXNzYWdlXG5leHBvcnQgY29uc3Qgc2VuZE1lc3NhZ2UgPSAoXG4gIG1lc3NhZ2U6IE1lc3NhZ2UsXG4gIHRhYklkPzogbnVtYmVyLFxuKTogUmVzdWx0QXN5bmM8dW5kZWZpbmVkLCBDb25maXJtYXRpb25NZXNzYWdlRXJyb3JbJ2Vycm9yJ10+ID0+IHtcbiAgY29uc3QgY2FuU2VuZE1lc3NhZ2VUb1RhYiA9IG1lc3NhZ2Uuc291cmNlID09PSAnYmFja2dyb3VuZCcgJiYgdGFiSWRcblxuICBpZiAoY2FuU2VuZE1lc3NhZ2VUb1RhYikge1xuICAgIHJldHVybiBnZXRUYWJCeUlkKHRhYklkKVxuICAgICAgLm1hcEVycigoZXJyb3IpID0+ICh7XG4gICAgICAgIHJlYXNvbjogJ3RhYk5vdEZvdW5kJyxcbiAgICAgICAgbWVzc2FnZTogJ2NvdWxkIG5vdCBmaW5kIHRhYiwgdXNlciBtYXkgaGF2ZSBjbG9zZWQgaXQnLFxuICAgICAgICBqc0Vycm9yOiBlcnJvcixcbiAgICAgIH0pKVxuICAgICAgLmFuZFRoZW4oKCkgPT5cbiAgICAgICAgY2hyb21lU2VuZE1lc3NhZ2VUb1RhYih0YWJJZCwgbWVzc2FnZSkubWFwRXJyKChlcnJvcikgPT4gKHtcbiAgICAgICAgICByZWFzb246ICdjb3VsZE5vdFNlbmRNZXNzYWdlVG9UYWInLFxuICAgICAgICAgIGpzRXJyb3I6IGVycm9yLFxuICAgICAgICB9KSksXG4gICAgICApXG4gIH1cblxuICByZXR1cm4gY2hyb21lU2VuZE1lc3NhZ2UobWVzc2FnZSkubWFwRXJyKChlcnJvcikgPT4gKHtcbiAgICByZWFzb246ICdjb3VsZE5vdFNlbmRNZXNzYWdlJyxcbiAgICBqc0Vycm9yOiBlcnJvcixcbiAgfSkpXG59XG4iXSwibmFtZXMiOlsiZ2V0VGFiQnlJZCIsInRhYklkIiwiUmVzdWx0QXN5bmMiLCJlcnIiLCJzZW5kTWVzc2FnZVRvVGFiIiwibWVzc2FnZSIsInNlbmRNZXNzYWdlIiwiZXJyb3IiLCJjaHJvbWVTZW5kTWVzc2FnZVRvVGFiIiwiY2hyb21lU2VuZE1lc3NhZ2UiXSwibWFwcGluZ3MiOiJxRkFFTyxNQUFNQSxFQUFjQyxHQUN6QkMsRUFBWSxZQUFZLE9BQU8sS0FBSyxJQUFJRCxDQUFLLEVBQUlFLEdBQVFBLENBQVksRUNEMURDLEVBQW1CLENBQzlCSCxFQUNBSSxJQUVBSCxFQUFZLFlBQ1YsT0FBTyxLQUFLLFlBQVlELEVBQU9JLENBQU8sRUFDckNGLEdBQVFBLENBQ1gsRUNEV0csRUFBYyxDQUN6QkQsRUFDQUosSUFFNEJJLEVBQVEsU0FBVyxjQUFnQkosRUFHdERELEVBQVdDLENBQUssRUFDcEIsT0FBUU0sSUFBVyxDQUNsQixPQUFRLGNBQ1IsUUFBUyw4Q0FDVCxRQUFTQSxHQUNULEVBQ0QsUUFBUSxJQUNQQyxFQUF1QlAsRUFBT0ksQ0FBTyxFQUFFLE9BQVFFLElBQVcsQ0FDeEQsT0FBUSwyQkFDUixRQUFTQSxDQUFBLEVBQ1QsQ0FBQSxFQUlERSxFQUFrQkosQ0FBTyxFQUFFLE9BQVFFLElBQVcsQ0FDbkQsT0FBUSxzQkFDUixRQUFTQSxDQUNULEVBQUEifQ==
